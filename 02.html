<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çš‡å®¶ä¸ç»¸ç”»å·ï¼šå¤§å”ç››ä¸–</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      /* --- å­—é«”å°å…¥ --- */
      @import url('https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+TC:wght@400;700;900&family=ZCOOL+XiaoWei&family=Zhi+Mang+Xing&display=swap');
      
      /* --- è®Šæ•¸å®šç¾© --- */
      :root {
        --bg-color: #FDFBF5; 
        --primary-color: #8C1B17; /* ä¸»è‰² - æš—ç´… */
        --accent-color: #D4AF37;  /* å¼·èª¿è‰² - é‡‘é»ƒ */
        --accent-light: #F1E6C2;  /* å¼·èª¿æ·ºè‰² - æ·¡é‡‘ */
        --text-color: #3D3D3D;    /* å…§æ–‡é¡è‰² - æ·±ç°é»‘ */
        --title-font: 'Ma Shan Zheng', 'Noto Serif TC', serif;
        --body-font: 'Noto Serif TC', serif;
        --cursive-font: 'Zhi Mang Xing', cursive;
        --elegant-font: 'ZCOOL XiaoWei', serif;
      }

      html { scroll-behavior: smooth; }
      body {
        margin: 0;
        padding: 0;
        background-color: var(--bg-color);
        color: var(--text-color);
        font-family: var(--body-font);
        font-size: 18px;
        background-image: url('https://www.transparenttextures.com/patterns/silk.png');
        overflow-x: hidden;
      }
      
      /* --- ä¸ç»¸å·è½´æ•ˆæœ --- */
      .silk-scroll-effect {
        position: relative;
      }
      .silk-scroll-effect::before,
      .silk-scroll-effect::after {
        content: '';
        position: absolute;
        width: 60px;
        height: 100%;
        top: 0;
        z-index: 5;
        background: linear-gradient(90deg, rgba(253, 251, 245, 0.8), transparent);
        pointer-events: none; /* ç¢ºä¿ä¸æœƒå¹²æ“¾é»æ“Š */
      }
      .silk-scroll-effect::before {
        left: 0;
      }
      .silk-scroll-effect::after {
        right: 0;
        transform: rotate(180deg);
      }
      
      /* --- é€šç”¨å€å¡Šè¨­å®š --- */
      .slide-section {
        width: 100%;
        min-height: 100vh;
        padding: 180px 40px 80px; 
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        max-width: 1600px;
        margin: 0 auto;
        border-bottom: 1px solid rgba(140, 27, 23, 0.1);
      }
      
      /* --- å†…å®¹æ‰¿è½½å±‚ --- */
      .content-container {
        background: rgba(253, 251, 245, 0.92);
        border-radius: 12px;
        padding: 40px;
        box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15);
        border: 1px solid rgba(212, 175, 55, 0.3);
        position: relative;
        z-index: 10;
        width: 90%;
        max-width: 1400px;
        margin: 0 auto;
      }
      .content-container::before {
        content: '';
        position: absolute;
        top: 10px;
        left: 10px;
        right: 10px;
        bottom: 10px;
        border: 2px solid rgba(212, 175, 55, 0.15);
        border-radius: 8px;
        pointer-events: none;
        z-index: -1;
      }

      /* --- æ¨™é¡Œç¾åŒ– --- */
      .section-title {
        font-family: var(--title-font);
        font-size: 4.5rem;
        color: var(--primary-color);
        margin-bottom: 50px;
        text-align: center;
        line-height: 1.2;
        position: relative;
        padding-bottom: 30px;
        text-shadow: 3px 3px 6px rgba(0,0,0,0.15);
        letter-spacing: 2px;
      }
      /* æ ‡é¢˜è£…é¥°çº¿ */
      .section-title::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 180px;
        height: 8px;
        background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="180" height="8" viewBox="0 0 180 8"><path d="M0,4 Q45,8 90,4 Q135,0 180,4" fill="none" stroke="%23D4AF37" stroke-width="2"/></svg>');
        background-repeat: no-repeat;
        background-position: center;
        border-radius: 3px;
      }

      /* --- å°è¦½åˆ— --- */
      .navbar {
        position: fixed; top: 0; left: 0; width: 100%;
        background-color: rgba(140, 27, 23, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 4px 20px rgba(0,0,0,0.4);
        z-index: 1000; padding: 15px 20px;
        transition: all 0.4s ease;
      }
      .navbar.scrolled {
        padding: 10px 20px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      }
      .nav-links { display: flex; justify-content: center; flex-wrap: wrap; gap: 10px 25px; }
      .nav-links a {
        color: var(--bg-color); 
        font-family: var(--elegant-font);
        font-size: 18px; 
        padding: 10px 20px; 
        border-radius: 30px;
        transition: all 0.4s ease;
        position: relative;
        letter-spacing: 1px;
      }
      .nav-links a:hover, .nav-links a.active { 
        background: linear-gradient(135deg, var(--accent-color), #b88c28);
        color: var(--primary-color);
        transform: translateY(-4px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      }
      .nav-links a::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border-radius: 30px;
        background: linear-gradient(135deg, transparent, rgba(212, 175, 55, 0.3));
        opacity: 0;
        transition: opacity 0.3s ease;
      }
      .nav-links a:hover::before {
        opacity: 1;
      }

      /* --- æ§åˆ¶é¢æ¿ --- */
      .control-panel {
        position: fixed; top: 120px; right: 30px;
        display: flex; flex-direction: column; gap: 15px; z-index: 999;
      }
      .control-btn {
        width: 55px; height: 55px;
        background: linear-gradient(135deg, var(--primary-color), #6a0d0a);
        color: var(--accent-color);
        border: 2px solid var(--accent-color);
        border-radius: 50%;
        display: flex; justify-content: center; align-items: center;
        cursor: pointer; font-size: 22px;
        transition: all 0.4s ease;
        box-shadow: 0 5px 15px rgba(0,0,0,0.25);
      }
      .control-btn:hover {
        background: linear-gradient(135deg, var(--accent-color), #b88c28);
        color: var(--primary-color);
        transform: scale(1.15) rotate(12deg);
        box-shadow: 0 8px 20px rgba(0,0,0,0.4);
      }
      #to-top-btn { display: none; }

      /* --- èªéŸ³å°è®€æŒ‰éˆ• Playing ç‹€æ…‹ --- */
      .tts-btn.is-playing {
        background-color: #D4AF37;
        color: #8C1B17;
      }
      .tts-btn.is-playing:hover {
        background-color: #b88c28;
      }
      
      /* --- è‡ªå‹•æ’­æ”¾æ™‚éš±è—èªéŸ³æŒ‰éˆ• --- */
      .autoplay-active .tts-btn {
        display: none;
      }
      
      /* --- èªéŸ³æ’­æ”¾æ™‚é–å®šç•«é¢æ¨£å¼ --- */
      body.tts-active .nav-links a,
      body.tts-active #to-top-btn {
          pointer-events: none;
          opacity: 0.5;
          cursor: not-allowed;
          transition: opacity 0.3s ease;
      }


      /* --- æ²å‹•å‹•ç•« --- */
      .scroll-reveal { 
        opacity: 0; 
        transform: translateY(50px); 
        transition: opacity 1s ease-out, transform 1s ease-out; 
      }
      .scroll-reveal.visible { 
        opacity: 1; 
        transform: translateY(0); 
      }
      
      /* --- æ™‚é–“è»¸è¦–è¦ºå¼·åŒ– --- */
      .visual-timeline { 
        position: relative; 
        width: 100%; 
        max-width: 900px; 
        margin: 50px auto;
        padding: 20px 0;
      }
      .visual-timeline::after {
        content: ''; 
        position: absolute; 
        width: 8px; 
        background: linear-gradient(to bottom, transparent, var(--accent-color), transparent);
        top: 0; 
        bottom: 0; 
        left: 50%; 
        margin-left: -4px; 
        z-index: 1;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(212, 175, 55, 0.5);
      }
      .timeline-container { 
        padding: 10px 40px; 
        position: relative; 
        background-color: inherit; 
        width: 50%; 
      }
      .timeline-container.left { left: 0; }
      .timeline-container.right { left: 50%; }
      .timeline-container::after {
        content: ''; 
        position: absolute; 
        width: 35px; 
        height: 35px; 
        right: -17px;
        background-color: var(--bg-color); 
        border: 4px solid var(--primary-color);
        top: 25px; 
        border-radius: 50%; 
        z-index: 2;
        transition: all 0.4s ease;
        box-shadow: 0 0 0 6px rgba(212, 175, 55, 0.4);
      }
      .timeline-container:hover::after { 
        transform: scale(1.4);
        background-color: var(--accent-color);
        box-shadow: 0 0 0 8px rgba(212, 175, 55, 0.6);
      }
      .timeline-container.right::after { left: -17px; }
      .timeline-content {
        padding: 30px 40px; 
        background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(241, 230, 194, 0.4)); 
        position: relative; 
        border-radius: 15px; 
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        border: 1px solid rgba(140, 27, 23, 0.2);
        border-left: 10px solid var(--primary-color);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        backdrop-filter: blur(4px);
      }
      .timeline-content:hover {
        transform: translateY(-15px) rotate(1deg);
        box-shadow: 0 15px 35px rgba(0,0,0,0.3);
      }
      .timeline-content h3 { 
        font-size: 26px; 
        color: var(--primary-color); 
        font-family: var(--title-font); 
        margin-bottom: 15px;
        border-bottom: 2px solid var(--accent-light);
        padding-bottom: 10px;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
      }
      .timeline-content p { 
        font-size: 18px; 
        line-height: 1.8; 
        font-family: var(--elegant-font);
      }

      /* --- äº’å‹•åœ°åœ– --- */
      .map-container-interactive { 
        position: relative; 
        width: 100%; 
        max-width: 800px; 
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        border: 3px solid var(--accent-light);
        transform: perspective(1000px) rotateX(5deg) rotateY(0deg);
        transition: transform 0.5s ease;
      }
      .map-container-interactive:hover {
        transform: perspective(1000px) rotateX(2deg) rotateY(2deg);
      }
      .hotspot {
        position: absolute; 
        width: 40px; 
        height: 40px;
        background: radial-gradient(circle, rgba(212, 175, 55, 0.9), rgba(180, 145, 35, 0.9)); 
        border: 3px solid white;
        border-radius: 50%; 
        cursor: pointer;
        transition: all 0.4s ease;
        display: flex; 
        justify-content: center; 
        align-items: center;
        box-shadow: 0 0 20px rgba(212, 175, 55, 0.8);
        animation: pulse 2s infinite;
        z-index: 10;
      }
      @keyframes pulse { 
        0% { transform: scale(1); box-shadow: 0 0 10px rgba(212, 175, 55, 0.5); } 
        50% { transform: scale(1.2); box-shadow: 0 0 30px rgba(212, 175, 55, 1); } 
        100% { transform: scale(1); box-shadow: 0 0 10px rgba(212, 175, 55, 0.5); } 
      }
      .hotspot:hover { 
        transform: scale(1.6); 
        background: radial-gradient(circle, var(--primary-color), #6a0d0a); 
        animation-play-state: paused; 
        z-index: 20;
      }
      .hotspot .fa-star { 
        color: white; 
        font-size: 18px; 
        transition: transform 0.3s ease;
      }
      .hotspot:hover .fa-star {
        transform: rotate(360deg);
      }
      .info-box {
        display: none; 
        position: absolute; 
        background: linear-gradient(135deg, rgba(20, 5, 0, 0.95), rgba(50, 15, 10, 0.95));
        color: var(--accent-light); /* [ä¿®æ”¹] ä½¿ç”¨æ·¡é‡‘è‰² */
        padding: 25px; 
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.6); 
        z-index: 20;
        width: 300px; 
        border-left: 5px solid var(--accent-color);
        font-family: var(--elegant-font);
        backdrop-filter: blur(8px);
        animation: fadeIn 0.4s ease;
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(15px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .info-box h3 { 
        font-family: var(--title-font); 
        font-size: 24px; 
        color: var(--accent-color); 
        margin-bottom: 15px;
        border-bottom: 1px solid rgba(212, 175, 55, 0.4);
        padding-bottom: 10px;
      }
      .info-box p {
        font-size: 17px;
        line-height: 1.7;
      }

      /* --- å¡ç‰‡é€šç”¨æ¨£å¼ --- */
      .styled-card {
        background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(241, 230, 194, 0.4));
        border: 1px solid rgba(212, 175, 55, 0.3);
        border-radius: 18px;
        padding: 30px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.12);
        transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        height: 100%;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        position: relative;
        backdrop-filter: blur(4px);
      }
      .styled-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 6px;
        background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
      }
      .styled-card:hover {
        transform: translateY(-20px) rotate(2deg);
        box-shadow: 0 20px 40px rgba(0,0,0,0.2);
      }
      
      /* --- åœ–ç‰‡å®¹å™¨ --- */
      .image-container-styled {
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        border: 6px solid var(--accent-color);
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        transition: all 0.5s ease;
        transform: perspective(1000px) rotateX(5deg);
      }
      .image-container-styled:hover {
        box-shadow: 0 20px 50px rgba(0,0,0,0.4);
        transform: perspective(1000px) rotateX(2deg);
      }
      .image-container-styled img {
        width: auto; 
        height: auto;
        max-width: 100%; 
        max-height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
      }
      .image-container-styled:hover img {
        transform: scale(1.1);
      }

      /* --- é¦–é ç‰¹æ®Šæ¨£å¼ --- */
      #title {
        position: relative;
        overflow: hidden;
        padding: 0;
      }
      
      #title-video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        z-index: 0;
      }
      
      .video-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(rgba(60, 15, 12, 0.8), rgba(60, 15, 12, 0.8));
        z-index: 1;
      }
      
      #title .border-pattern {
        position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        border: 40px solid transparent;
        border-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 80 80"><path d="M0,0 L80,0 L80,80 L0,80 Z" fill="none" stroke="%23D4AF37" stroke-width="3"/><path d="M20,20 L60,20 L60,60 L20,60 Z" fill="none" stroke="%23D4AF37" stroke-width="2" stroke-dasharray="8,8"/></svg>') 40 stretch;
        pointer-events: none; z-index: 10;
      }
      #title h1 {
        font-family: 'Ma Shan Zheng', cursive;
        font-size: 8rem;
        font-weight: 700;
        margin-bottom: 25px;
        color: #F8E4A0; /* ä¿ç•™ä¸»æ¨™é¡Œçš„äº®é‡‘è‰² */
        text-shadow: 5px 5px 15px rgba(0, 0, 0, 0.9);
        letter-spacing: 3px;
        line-height: 1.1;
      }
      #title h2 {
        font-family: var(--elegant-font);
        font-size: 3rem;
        font-weight: 400;
        margin-bottom: 50px;
        color: var(--accent-color); /* [ä¿®æ”¹] ä½¿ç”¨è¼ƒæ·±çš„é‡‘è‰² */
        letter-spacing: 3px;
        text-shadow: 3px 3px 6px rgba(0,0,0,0.7);
      }
      .copyright-notice {
        position: absolute; bottom: 25px; left: 30px;
        transform: none; font-size: 16px;
        color: var(--accent-color); /* [ä¿®æ”¹] ä½¿ç”¨è¼ƒæ·±çš„é‡‘è‰² */
        background-color: rgba(0, 0, 0, 0.5);
        padding: 10px 22px; 
        border-radius: 12px; 
        z-index: 30;
        font-family: var(--elegant-font);
        letter-spacing: 1px;
      }
      .title-content {
        position: relative;
        z-index: 20;
        text-align: center;
        padding: 60px;
        max-width: 1400px;
        margin: 0 auto;
      }
      .title-subtitle {
        font-size: 2rem;
        margin-top: 70px;
        font-family: var(--cursive-font);
        letter-spacing: 2px;
        text-shadow: 3px 3px 8px rgba(0,0,0,0.8);
        line-height: 1.7;
        max-width: 900px;
        margin: 70px auto 0;
      }

      /* --- Section Backgrounds & Readability --- */
      .slide-section {
        background-size: cover;
        background-position: center center;
        background-attachment: fixed;
      }

      #overview { background: linear-gradient(rgba(40, 10, 8, 0.6), rgba(40, 10, 8, 0.6)), url('https://pic1.zhimg.com/v2-be53a747eda9b2d1d54c6ccf57d97f2c_r.jpg?source=172ae18b') center center/cover; }
      #timeline { background: linear-gradient(rgba(40, 10, 8, 0.5), rgba(40, 10, 8, 0.5)), url('https://gw.alicdn.com/imgextra/i3/2217786689662/O1CN01il1MR42LFFkGUJyKV_!!2217786689662.jpg_Q75.jpg_.webp') center center/cover; }
      #territory { background: linear-gradient(rgba(40, 10, 8, 0.65), rgba(40, 10, 8, 0.65)), url('https://img3.chinadaily.com.cn/images/202302/18/63f0bfa8a3102ada7c838e0f.jpeg') center center/cover; }
      #emperors { background: linear-gradient(rgba(40, 10, 8, 0.5), rgba(40, 10, 8, 0.5)), url('https://www.cmmedia.com.tw/file/35244/1584863848_100072_cropped_96_1584863828_100072_main_1-74-600x400.jpg') center center/cover; }
      #government { background: linear-gradient(rgba(40, 10, 8, 0.6), rgba(40, 10, 8, 0.6)), url('https://i.epochtimes.com/assets/uploads/2009/12/0912042137271734-450x525.jpg') center center/cover; }
      #culture { background: linear-gradient(rgba(40, 10, 8, 0.5), rgba(40, 10, 8, 0.5)), url('https://i.epochtimes.com/assets/uploads/2018/11/f9f6ef9d6fec92a672ac7bc1e855d924.jpg') center center/cover; }
      #exchange { background: linear-gradient(rgba(40, 10, 8, 0.5), rgba(40, 10, 8, 0.5)), url('https://p1.img.cctvpic.com/photoworkspace/contentimg/2019/07/11/2019071114150838938.jpg') center center/cover; }
      #scholars { background: linear-gradient(rgba(40, 10, 8, 0.5), rgba(40, 10, 8, 0.5)), url('https://www.artlib.net.tw/works_image/200908/20090826162334.jpg') center center/cover; }
      #decline { background: linear-gradient(rgba(20, 5, 0, 0.55), rgba(20, 5, 0, 0.55)), url('https://g.udn.com.tw/upfiles/B_MY/mysterian/PSN_PHOTO/410/f_9438410_1.jpg') center center/cover; }
      #legacy { background: linear-gradient(rgba(40, 10, 8, 0.6), rgba(40, 10, 8, 0.6)), url('https://www.merit-times.com.tw/news_pic/20220227/C20220226222021817.jpg') center center/cover; }
      /* æ–°å¢è¦–é »å€å¡ŠèƒŒæ™¯ */
      #tang-video { background: linear-gradient(rgba(40, 10, 8, 0.6), rgba(40, 10, 8, 0.6)), url('https://i.pinimg.com/originals/7a/5b/4b/7a5b4b1a41551c6c50c53856a83688b5.jpg') center center/cover; }
      
      /* --- [ä¿®æ”¹] é€šç”¨äº®è‰²å­—é«”èˆ‡é™°å½±è¨­å®š --- */
      .has-bg-image > .w-full > * {
        color: var(--accent-color); /* æ”¹ç‚ºè¼ƒæ·±çš„é‡‘è‰²ä»¥å¢å¼·å°æ¯”åº¦ */
        text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.9); /* åŠ å¼·é™°å½± */
      }
      .has-bg-image .section-title {
        color: var(--accent-color); 
      }
      
      /* ä¿è­·å¡ç‰‡å…§çš„æ–‡å­—é¡è‰²ï¼Œä½¿å…¶ä¿æŒæ·±è‰² */
      .timeline-content, .styled-card, .info-card, .quote-block, .h-96, .h-80 {
          text-shadow: none;
      }
      .timeline-content *, .styled-card *, .info-card *, .quote-block *, .h-96 *, .h-80 * {
          text-shadow: none;
      }
      .timeline-content, .styled-card {
        color: var(--text-color);
      }
      .timeline-content h3, .styled-card .text-red-800, .info-card .text-red-800 { 
        color: var(--primary-color); 
      }
      .styled-card .text-gray-600 { color: #4b5563; }
      .styled-card .text-gray-700 { color: #374151; }
      
      /* é‡å°ç‰¹å®šå…ƒç´ çš„ç²¾ç´°èª¿æ•´ */
      .info-card {
        background: linear-gradient(145deg, rgba(253, 251, 245, 0.95), rgba(241, 230, 194, 0.4)) !important;
        backdrop-filter: blur(5px);
        color: var(--text-color);
        border-radius: 15px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.12);
        padding: 30px;
      }
      .info-card li {
        color: var(--text-color);
      }
      .info-card .text-yellow-600 {
        color: #ca8a04;
      }
      
      /* [ä¿®æ”¹] åœ°åœ–èªªæ˜æ–‡å­—é¡è‰² */
      #territory .text-sm, #tang-video .text-xl {
        color: var(--accent-color);
      }
      
      /* [ä¿®æ”¹] å¼•è¨€å€å¡Šæ–‡å­—é¡è‰² */
      .quote-block {
        background: linear-gradient(135deg, rgba(20, 5, 0, 0.7), rgba(40, 10, 8, 0.7));
        border-color: var(--accent-color);
        border-left: 10px solid var(--accent-color);
        padding: 35px;
        border-radius: 15px;
        max-width: 900px;
        margin: 50px auto;
        backdrop-filter: blur(5px);
      }
      .quote-block p {
        color: var(--accent-color); /* æ”¹ç‚ºè¼ƒæ·±çš„é‡‘è‰² */
        text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
      }
      
      /* æ–°å¢å…ƒç´ ï¼šå”ä»£é£æ ¼è£…é¥° */
      .tang-decoration {
        position: absolute;
        width: 180px;
        height: 180px;
        opacity: 0.2;
        z-index: 1;
        background-size: contain;
        background-repeat: no-repeat;
      }
      .decoration-1 {
        top: 30px;
        left: 30px;
        background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Cloud_Scroll.svg/1200px-Cloud_Scroll.svg.png');
      }
      .decoration-2 {
        bottom: 30px;
        right: 30px;
        transform: rotate(180deg);
        background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Cloud_Scroll.svg/1200px-Cloud_Scroll.svg.png');
      }
      .decoration-3 {
        top: 40%;
        right: 5%;
        width: 120px;
        height: 120px;
        background-image: url('https://www.clipartmax.com/png/middle/102-1020360_lotus-flower-png.png');
        opacity: 0.15;
        transform: rotate(25deg);
      }
      .decoration-4 {
        bottom: 30%;
        left: 5%;
        width: 100px;
        height: 100px;
        background-image: url('https://www.clipartmax.com/png/middle/102-1020360_lotus-flower-png.png');
        opacity: 0.15;
        transform: rotate(-15deg);
      }
      
      /* æ–‡äººå¡ç‰‡ç‰¹æ®Šæ ·å¼ */
      .scholar-card {
        background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(241, 230, 194, 0.3));
        border-radius: 20px;
        overflow: hidden;
        transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        box-shadow: 0 12px 30px rgba(0,0,0,0.15);
        position: relative;
        height: 100%;
      }
      .scholar-card:hover {
        transform: translateY(-15px) rotate(1.5deg);
        box-shadow: 0 20px 45px rgba(0,0,0,0.25);
      }
      .scholar-img {
        height: 280px;
        overflow: hidden;
        position: relative;
      }
      .scholar-img img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.6s ease;
      }
      .scholar-card:hover .scholar-img img {
        transform: scale(1.15);
      }
      .scholar-content {
        padding: 25px;
      }
      .scholar-name {
        font-family: var(--title-font);
        font-size: 28px;
        color: var(--primary-color);
        margin-bottom: 10px;
        border-bottom: 2px solid var(--accent-light);
        padding-bottom: 8px;
      }
      .scholar-desc {
        font-family: var(--elegant-font);
        font-size: 17px;
        line-height: 1.8;
        color: var(--text-color);
      }
      
      /* è§†é¢‘æç¤ºæ ·å¼ */
      .video-tip {
        background-color: rgba(253, 251, 245, 0.85);
        border-left: 4px solid var(--accent-color);
        padding: 12px 20px;
        border-radius: 8px;
        margin-top: 15px;
        text-align: center;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      }
      .video-tip a {
        color: var(--primary-color);
        font-weight: bold;
        text-decoration: underline;
      }
      .video-tip a:hover {
        color: #6a0d0a;
      }
      
      /* å“åº”å¼è°ƒæ•´ */
      @media (max-width: 1024px) {
        .section-title {
          font-size: 3.8rem;
        }
        .nav-links {
          gap: 8px 15px; /* ç¸®å°å°è¦½åˆ—é–“è· */
        }
        .nav-links a {
          padding: 8px 16px;
          font-size: 16px; /* ç¸®å°å°è¦½åˆ—å­—é«” */
        }
      }
      
      @media (max-width: 768px) {
        .section-title {
          font-size: 3.2rem;
          padding: 0 20px 20px;
        }
        .slide-section {
          padding: 180px 25px 60px;
        }
        #title h1 {
          font-size: 6rem;
        }
        #title h2 {
          font-size: 2.5rem;
        }
        .title-subtitle {
          font-size: 1.8rem;
        }
        .content-container {
          padding: 30px;
        }
        .timeline-container {
          width: 100%;
          padding: 10px 30px 10px 60px;
          left: 0 !important;
        }
        .timeline-container::after {
          left: 25px !important;
          right: auto !important;
        }
        .visual-timeline::after {
          left: 30px;
        }
        .control-panel {
          top: auto; /* èª¿æ•´æ§åˆ¶é¢æ¿ä½ç½®ä»¥é©æ‡‰å¯èƒ½æ›è¡Œçš„å°è¦½åˆ— */
          bottom: 20px;
          right: 15px;
        }
        .control-btn {
          width: 48px;
          height: 48px;
          font-size: 20px;
        }
      }
      
      @media (max-width: 480px) {
        .section-title {
          font-size: 2.8rem;
        }
        #title h1 {
          font-size: 4.5rem;
        }
        #title h2 {
          font-size: 2rem;
        }
        .title-subtitle {
          font-size: 1.5rem;
          margin-top: 50px;
        }
        .copyright-notice {
          font-size: 14px;
          left: 15px;
          bottom: 15px;
        }
        .nav-links a {
          padding: 7px 12px; /* å†ç¸®å°å°è¦½åˆ—é–“è· */
          font-size: 15px;
        }
        .content-container {
          padding: 20px;
        }
      }
    </style>
</head>
<body class="silk-scroll-effect">

    <!-- èƒŒæ™¯éŸ³æ¨‚æ’­æ”¾å™¨ -->
    <audio id="bg-music" loop src="https://ping763573.github.io/big-adventure/03.mp3"></audio>

    <!-- å°è¦½åˆ— -->
    <nav class="navbar">
      <div class="nav-links">
        <a href="#title" data-lang-key="nav_home">é¦–é </a>
        <a href="#overview" data-lang-key="nav_overview">ç‹æœç¸½è¦½</a>
        <a href="#timeline" data-lang-key="nav_timeline">å¤§äº‹å¹´è¡¨</a>
        <a href="#territory" data-lang-key="nav_territory">ç–†åŸŸèˆ‡åœ°ç†</a>
        <a href="#emperors" data-lang-key="nav_emperors">é‡è¦å¸ç‹</a>
        <a href="#government" data-lang-key="nav_government">æ”¿åºœèˆ‡åˆ¶åº¦</a>
        <a href="#culture" data-lang-key="nav_culture">æ–‡åŒ–é»ƒé‡‘æ™‚ä»£</a>
        <a href="#exchange" data-lang-key="nav_exchange">åœ‹éš›äº¤æµ</a>
        <a href="#scholars" data-lang-key="nav_scholars">æ–‡äººèˆ‡ç§‘æŠ€</a>
        <a href="#decline" data-lang-key="nav_decline">è¡°äº¡èˆ‡å‚¾é ¹</a>
        <a href="#legacy" data-lang-key="nav_legacy">æ­·å²éºç”¢</a>
        <a href="#tang-video" data-lang-key="nav_tang_video">å¤§å”ç››ä¸–è¦–é »</a>
      </div>
    </nav>

    <!-- æ§åˆ¶é¢æ¿ -->
    <div class="control-panel">
      <button id="lang-toggle" class="control-btn" title="åˆ‡æ›èªè¨€ / Language"><i class="fas fa-language"></i></button>
      <button id="autoplay-toggle" class="control-btn" title="è‡ªå‹•æ’­æ”¾ / Autoplay"><i class="fas fa-play"></i></button>
      <button id="fullscreen-toggle" class="control-btn" title="å…¨è¢å¹• / Fullscreen"><i class="fas fa-expand"></i></button>
      <button id="music-toggle" class="control-btn" title="èƒŒæ™¯éŸ³æ¨‚ / Music"><i class="fas fa-volume-mute"></i></button>
      <button id="to-top-btn" class="control-btn" title="å›åˆ°é ‚éƒ¨ / Back to Top"><i class="fas fa-arrow-up"></i></button>
    </div>

    <!-- ä¸»è¦å…§å®¹å€åŸŸ -->
    <main>

      <!-- å€å¡Š 1: æ¨™é¡Œé  - ä¿®æ”¹ä¸ºè§†é¢‘èƒŒæ™¯ -->
      <section id="title" class="slide-section">
        <!-- æ·»åŠ è§†é¢‘èƒŒæ™¯ -->
        <video autoplay muted loop playsinline id="title-video">
          <source src="https://ping763573.github.io/history/02.mp4" type="video/mp4">
        </video>
        <div class="video-overlay"></div>
        
        <div class="border-pattern"></div>
        <div class="tang-decoration decoration-1"></div>
        <div class="tang-decoration decoration-2"></div>
        <div class="tang-decoration decoration-3"></div>
        <div class="tang-decoration decoration-4"></div>
        <div class="title-content">
          <h1 data-lang-key="title_main">å¤§å”ç‹æœ<br>The Tang Dynasty</h1>
          <div style="font-size: 2.5rem; font-weight: 600; color: var(--accent-color); margin-top: 15px; letter-spacing: 3px; font-family: var(--elegant-font);" data-lang-key="title_dates">è¥¿å…ƒ 618 - 907 å¹´</div>
          <h2 data-lang-key="title_subtitle">ä¸­è¯æ–‡æ˜çš„é»ƒé‡‘æ™‚ä»£</h2>
          <p class="title-subtitle" data-lang-key="title_presenter">ä¸€å ´é—œæ–¼æ”¿æ²»ã€æ–‡åŒ–èˆ‡æ­·å²éºç”¢çš„å…¨é¢æ¢ç´¢<br>å¤§å­¸æ­·å²èª²ç¨‹</p>
        </div>
        <p class="copyright-notice" data-lang-key="copyright">å±•ç¤ºç…§ç‰‡èˆ‡é…æ¨‚å…¶ç‰ˆæ¬Šå±¬åŸå‰µæ‰€æœ‰ï¼›ç´”åˆ†äº«å‹¿å•†ç”¨ã€‚</p>
      </section>

      <!-- å€å¡Š 2: ç‹æœç¸½è¦½ -->
      <section id="overview" class="slide-section has-bg-image">
        <div class="w-full">
          <div class="content-container">
            <h2 class="section-title scroll-reveal" data-lang-key="overview_title">ç‹æœç¸½è¦½ï¼šä¸­åœ‹çš„é»ƒé‡‘æ™‚ä»£</h2><button class="tts-btn ml-4 px-3 py-1 rounded bg-yellow-500 text-white hover:bg-yellow-600" data-tts-target data-lang-key="tts_play_btn">ğŸ”Š èªéŸ³å°è®€</button>
            <div class="flex flex-col lg:flex-row items-center gap-12 mt-8">
              <div class="lg:w-3/5 scroll-reveal">
                <p class="text-xl leading-loose mb-6" data-lang-key="overview_p1">å”æœï¼ˆè¥¿å…ƒ618-907å¹´ï¼‰è¢«å»£æ³›èªç‚ºæ˜¯ä¸­è¯å¸åœ‹æ–‡æ˜çš„å·”å³°ï¼Œä¹Ÿæ˜¯ä¸–ç•Œæ­·å²ä¸Šæœ€å‰å¤§çš„å¸åœ‹ä¹‹ä¸€ã€‚åœ¨è¿‘ä¸‰å€‹ä¸–ç´€çš„çµ±æ²»ä¸­ï¼Œå®ƒå±•ç¾äº†å‰æ‰€æœªæœ‰çš„ç¹æ¦®ã€æ–‡åŒ–è¼ç…Œå’Œåœ‹éš›åŒ–çš„é–‹æ”¾ç²¾ç¥ã€‚</p>
                <p class="text-xl leading-loose" data-lang-key="overview_p2">ç¹¼æ‰¿çŸ­æš«çš„éš‹æœï¼Œå”æœå»ºç«‹äº†ä¸€å¥—å½±éŸ¿æ±äºæ•¸ä¸–ç´€çš„æ²»ç†ã€æ–‡åŒ–èˆ‡åœ‹éš›é—œä¿‚æ¨¡å¼ã€‚å…¶é¦–éƒ½é•·å®‰ï¼ˆä»Šè¥¿å®‰ï¼‰æˆç‚ºç•¶æ™‚ä¸–ç•Œä¸Šè¦æ¨¡æœ€å¤§ã€æœ€åœ‹éš›åŒ–çš„éƒ½å¸‚ã€‚</p>
                <div class="info-card border-l-4 border-red-800 p-6 mt-8 rounded-lg">
                  <h3 class="font-bold text-2xl text-red-800 mb-4" data-lang-key="overview_key_title">æ ¸å¿ƒç‰¹å¾µ</h3>
                  <ul class="list-none p-0 space-y-3">
                    <li class="text-lg flex items-start"><i class="fas fa-check-circle text-yellow-600 mr-3 mt-1"></i><span data-lang-key="overview_key_1">è¿‘ä¸‰ç™¾å¹´ç›¸å°ç©©å®šèˆ‡ç¹æ¦®</span></li>
                    <li class="text-lg flex items-start"><i class="fas fa-check-circle text-yellow-600 mr-3 mt-1"></i><span data-lang-key="overview_key_2">ç©ºå‰çš„é ˜åœŸæ“´å¼µèˆ‡åœ‹éš›å½±éŸ¿åŠ›</span></li>
                    <li class="text-lg flex items-start"><i class="fas fa-check-circle text-yellow-600 mr-3 mt-1"></i><span data-lang-key="overview_key_3">è·¨è¶Šå¤šé ˜åŸŸçš„æ–‡åŒ–èˆ‡è—è¡“ç¹ç››</span></li>
                    <li class="text-lg flex items-start"><i class="fas fa-check-circle text-yellow-600 mr-3 mt-1"></i><span data-lang-key="overview_key_4">å°å¤–ä¾†å½±éŸ¿èˆ‡æ€æƒ³æŒé–‹æ”¾æ…‹åº¦çš„åœ‹éš›åŒ–ç¤¾æœƒ</span></li>
                    <li class="text-lg flex items-start"><i class="fas fa-check-circle text-yellow-600 mr-3 mt-1"></i><span data-lang-key="overview_key_5">å®Œå–„çš„è¡Œæ”¿é«”ç³»èˆ‡è³¢èƒ½æ²»ç†</span></li>
                  </ul>
                </div>
              </div>
              <div class="lg:w-2/5 scroll-reveal" style="transition-delay: 0.2s;">
                <div class="image-container-styled h-full">
                  <img src="https://theme.npm.edu.tw/exh109/She/common/images/selection/n1-7s.jpg" alt="å”ä»£å®®å»·ä»•å¥³åœ–" onerror="this.onerror=null;this.src='https://placehold.co/600x800/8C1B17/FDFBF5?text=å”ä»£ä»•å¥³åœ–'">
                </div>
                <p class="text-sm italic mt-3 text-right" data-lang-key="overview_img_caption">å”ä»£ç•«ä½œæç¹ªå®®å»·ä»•å¥³ï¼Œå±•ç¾äº†ç•¶æ™‚ç²¾æ¹›çš„è—è¡“æˆå°±ã€‚</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- å€å¡Š 3: è¦–è¦ºåŒ–æ™‚é–“è»¸ -->
      <section id="timeline" class="slide-section has-bg-image">
        <div class="w-full">
          <div class="content-container">
            <h2 class="section-title scroll-reveal" data-lang-key="timeline_title">å¤§å”ç‹æœèˆˆè¡°å²</h2><button class="tts-btn ml-4 px-3 py-1 rounded bg-yellow-500 text-white hover:bg-yellow-600" data-tts-target data-lang-key="tts_play_btn">ğŸ”Š èªéŸ³å°è®€</button>
            <div class="visual-timeline">
              <!-- Timeline items -->
              <div class="timeline-container left scroll-reveal"><div class="timeline-content"><h3 data-lang-key="timeline_1_title">618å¹´: å”æœå»ºç«‹</h3><p data-lang-key="timeline_1_desc">éš‹æœ«å¤©ä¸‹å¤§äº‚ï¼Œå¤ªåŸç•™å®ˆææ·µï¼ˆå”é«˜ç¥–ï¼‰æ–¼é•·å®‰ç¨±å¸ï¼Œå»ºç«‹å”æœï¼Œå®šéƒ½é•·å®‰ã€‚</p></div></div>
              <div class="timeline-container right scroll-reveal"><div class="timeline-content"><h3 data-lang-key="timeline_2_title">626å¹´: ç„æ­¦é–€ä¹‹è®Š</h3><p data-lang-key="timeline_2_desc">æä¸–æ°‘ï¼ˆå”å¤ªå®—ï¼‰ç™¼å‹•æ”¿è®Šï¼Œæ®ºæ­»å…¶å…„æå»ºæˆèˆ‡å¼Ÿæå…ƒå‰ï¼Œéš¨å¾Œå³ä½ï¼Œé–‹å‰µã€Œè²è§€ä¹‹æ²»ã€ã€‚</p></div></div>
              <div class="timeline-container left scroll-reveal"><div class="timeline-content"><h3 data-lang-key="timeline_3_title">649-690å¹´: é«˜å®—èˆ‡æ­¦åæ™‚æœŸ</h3><p data-lang-key="timeline_3_desc">å”é«˜å®—æ™‚æœŸï¼Œç–†åŸŸé”åˆ°é ‚å³°ã€‚å…¶å¾Œï¼Œæ­¦å‰‡å¤©é€æ¼¸æŒæ¬Šï¼Œç‚ºç¨±å¸é‹ªè·¯ã€‚</p></div></div>
              <div class="timeline-container right scroll-reveal"><div class="timeline-content"><h3 data-lang-key="timeline_4_title">690-705å¹´: æ­¦å‘¨æ™‚æœŸ</h3><p data-lang-key="timeline_4_desc">æ­¦å‰‡å¤©ç¨±å¸ï¼Œæ”¹åœ‹è™Ÿç‚ºå‘¨ï¼Œæˆç‚ºä¸­åœ‹æ­·å²ä¸Šå”¯ä¸€çš„å¥³çš‡å¸ã€‚å¥¹ææ‹”è³¢èƒ½ï¼Œæ”¹é©ç§‘èˆ‰ã€‚</p></div></div>
              <div class="timeline-container left scroll-reveal"><div class="timeline-content"><h3 data-lang-key="timeline_5_title">712-756å¹´: é–‹å…ƒç››ä¸–</h3><p data-lang-key="timeline_5_desc">å”ç„å®—æéš†åŸºåœ¨ä½å‰æœŸï¼Œæ”¿æ²»æ¸…æ˜ï¼Œç¶“æ¿Ÿç¹æ¦®ï¼Œæ–‡åŒ–é¼ç››ï¼Œå”æœåœ‹åŠ›é”åˆ°å·”å³°ã€‚</p></div></div>
              <div class="timeline-container right scroll-reveal"><div class="timeline-content"><h3 data-lang-key="timeline_6_title">755-763å¹´: å®‰å²ä¹‹äº‚</h3><p data-lang-key="timeline_6_desc">ç¯€åº¦ä½¿å®‰ç¥¿å±±ã€å²æ€æ˜ç™¼å‹•å›äº‚ï¼Œé€™å ´é•·é”å…«å¹´çš„æˆ°äº‚æˆç‚ºå”æœç”±ç››è½‰è¡°çš„é—œéµè½‰æ©é»ã€‚</p></div></div>
              <div class="timeline-container left scroll-reveal"><div class="timeline-content"><h3 data-lang-key="timeline_7_title">780å¹´å¾Œ: è—©é®å‰²æ“š</h3><p data-lang-key="timeline_7_desc">å®‰å²ä¹‹äº‚å¾Œï¼Œåœ°æ–¹ç¯€åº¦ä½¿æ¬ŠåŠ›è†¨è„¹ï¼Œæ“å…µè‡ªé‡ï¼Œä¸­å¤®æ”¿åºœçš„æ§åˆ¶åŠ›æ€¥åŠ‡ä¸‹é™ï¼Œå½¢æˆè—©é®å‰²æ“šçš„å±€é¢ã€‚</p></div></div>
              <div class="timeline-container right scroll-reveal"><div class="timeline-content"><h3 data-lang-key="timeline_8_title">875-884å¹´: é»ƒå·¢ä¹‹äº‚</h3><p data-lang-key="timeline_8_desc">å¤§è¦æ¨¡çš„è¾²æ°‘èµ·ç¾©å¸­æ²å…¨åœ‹ï¼Œåš´é‡å‹•æ–äº†å”æœçš„çµ±æ²»æ ¹åŸºï¼Œé•·å®‰å’Œæ´›é™½å…©äº¬å‡é­ç ´å£ã€‚</p></div></div>
              <div class="timeline-container left scroll-reveal"><div class="timeline-content"><h3 data-lang-key="timeline_9_title">907å¹´: å”æœæ»…äº¡</h3><p data-lang-key="timeline_9_desc">æ¬Šè‡£æœ±æº«å»¢é»œå”å“€å¸ï¼Œè‡ªç«‹ç‚ºå¸ï¼Œå»ºç«‹å¾Œæ¢ã€‚å”æœæ­£å¼æ»…äº¡ï¼Œä¸­åœ‹é€²å…¥äº”ä»£ååœ‹çš„åˆ†è£‚æ™‚æœŸã€‚</p></div></div>
            </div>
          </div>
        </div>
      </section>

      <!-- å€å¡Š 4: ç–†åŸŸèˆ‡åœ°ç† -->
      <section id="territory" class="slide-section has-bg-image">
        <div class="w-full">
          <div class="content-container">
            <h2 class="section-title scroll-reveal" data-lang-key="territory_title">ç–†åŸŸèˆ‡åœ°ç†</h2><button class="tts-btn ml-4 px-3 py-1 rounded bg-yellow-500 text-white hover:bg-yellow-600" data-tts-target data-lang-key="tts_play_btn">ğŸ”Š èªéŸ³å°è®€</button>
            <div class="flex flex-col lg:flex-row items-center gap-12 mt-8">
              <div class="lg:w-3/5 scroll-reveal">
                <div class="map-container-interactive mx-auto image-container-styled">
                  <img src="https://p5.itc.cn/images01/20211008/63ccf160067a42629c6f5c2c95d3e2ad.jpeg" alt="Map of Tang Dynasty" onerror="this.onerror=null;this.src='https://placehold.co/800x600/8C1B17/FDFBF5?text=å”æœç–†åŸŸåœ–'">
                  <div class="hotspot" style="top: 48%; left: 70%;" data-target="info-changan"><i class="fas fa-star"></i></div>
                  <div class="hotspot" style="top: 49%; left: 74%;" data-target="info-luoyang"><i class="fas fa-star"></i></div>
                  <div class="hotspot" style="top: 45%; left: 50%;" data-target="info-silkroad"><i class="fas fa-star"></i></div>
                  <div id="info-changan" class="info-box" style="top: 40%; left: 42%;"><h3 data-lang-key="map_changan_title">äº¬å¸«é•·å®‰</h3><p data-lang-key="map_changan_desc">å”æœçš„é¦–éƒ½ï¼Œç•¶æ™‚ä¸–ç•Œä¸Šæœ€å¤§çš„åŸå¸‚ï¼Œäººå£è¶…éç™¾è¬ã€‚æ˜¯æ”¿æ²»ã€ç¶“æ¿Ÿå’Œæ–‡åŒ–ä¸­å¿ƒï¼Œä¹Ÿæ˜¯çµ²ç¶¢ä¹‹è·¯çš„æ±æ–¹èµ·é»ã€‚</p></div>
                  <div id="info-luoyang" class="info-box" style="top: 41%; left: 46%;"><h3 data-lang-key="map_luoyang_title">æ±éƒ½æ´›é™½</h3><p data-lang-key="map_luoyang_desc">å”æœçš„é™ªéƒ½ï¼Œä½æ–¼é»ƒæ²³ä¸­æ¸¸ï¼Œæ˜¯é‡è¦çš„äº¤é€šæ¨ç´å’Œç¶“æ¿Ÿä¸­å¿ƒã€‚æ­¦å‰‡å¤©æ™‚æœŸæ›¾å°‡å…¶å®šç‚ºç¥éƒ½ã€‚</p></div>
                  <div id="info-silkroad" class="info-box" style="top: 37%; left: 25%;"><h3 data-lang-key="map_silkroad_title">çµ²ç¶¢ä¹‹è·¯</h3><p data-lang-key="map_silkroad_desc">å”æœæ§åˆ¶äº†çµ²è·¯æ±æ®µçš„é—œéµè·¯ç·šï¼Œä¿ƒé€²äº†èˆ‡ä¸­äºã€æ³¢æ–¯ã€é˜¿æ‹‰ä¼¯ä¹ƒè‡³æ‹œå åº­å¸åœ‹çš„ç©ºå‰æ–‡åŒ–èˆ‡è²¿æ˜“äº¤æµã€‚</p></div>
                </div>
                <p class="text-sm italic mt-3 text-center" data-lang-key="territory_map_caption">åœ–ç‚ºå”æœæœ€å¤§ç–†åŸŸåœ–ã€‚é»æ“Šåœ°åœ–ä¸Šçš„<i class="fas fa-star text-yellow-500"></i>åœ–æ¨™æŸ¥çœ‹æ›´å¤šè³‡è¨Šã€‚</p>
              </div>
              <div class="lg:w-2/5 scroll-reveal" style="transition-delay: 0.2s;">
                <p class="text-xl leading-loose mb-6" data-lang-key="territory_p1">åœ¨8ä¸–ç´€åˆçš„é¼ç››æ™‚æœŸï¼Œå”æœæ§åˆ¶è‘—å»£è¢¤çš„é ˜åœŸï¼Œå…¶ç‰ˆåœ–è¶…è¶Šäº†æ¼¢æœã€‚å¸åœ‹å‘è¥¿æ·±å…¥ä¸­äºï¼Œç‰¢ç‰¢æ§åˆ¶äº†é—œéµçš„çµ²è·¯è²¿æ˜“è·¯ç·šï¼Œä¸¦å»ºç«‹äº†ä¸€å¥—è—©å±¬åœ‹èˆ‡æœè²¢é«”ç³»ã€‚</p>
                <div class="info-card p-6 rounded-lg">
                  <h3 class="font-bold text-2xl text-red-800 mb-4" data-lang-key="territory_stats_title">é ˜åœŸæ•¸æ“š</h3>
                  <div class="space-y-3">
                    <div class="flex justify-between text-lg border-b border-dotted border-yellow-500 pb-2"><span class="font-semibold" data-lang-key="territory_stats_1a">æœ€å¤§ç–†åŸŸ</span><span data-lang-key="territory_stats_1b">ç´„540è¬å¹³æ–¹å…¬é‡Œ</span></div>
                    <div class="flex justify-between text-lg border-b border-dotted border-yellow-500 pb-2"><span class="font-semibold" data-lang-key="territory_stats_2a">é¼ç››äººå£</span><span data-lang-key="territory_stats_2b">ç´„8000è¬ (9ä¸–ç´€)</span></div>
                    <div class="flex justify-between text-lg border-b border-dotted border-yellow-500 pb-2"><span class="font-semibold" data-lang-key="territory_stats_3a">ä¸»è¦é¦–éƒ½</span><span data-lang-key="territory_stats_3b">é•·å®‰ (ä»Šè¥¿å®‰)</span></div>
                    <div class="flex justify-between text-lg"><span class="font-semibold" data-lang-key="territory_stats_4a">æ¬¡è¦é¦–éƒ½</span><span data-lang-key="territory_stats_4b">æ´›é™½</span></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- å€å¡Š 5: é‡è¦å¸ç‹ -->
      <section id="emperors" class="slide-section has-bg-image">
        <div class="w-full">
          <div class="content-container">
            <h2 class="section-title scroll-reveal" data-lang-key="emperors_title">é‡è¦å¸ç‹</h2><button class="tts-btn ml-4 px-3 py-1 rounded bg-yellow-500 text-white hover:bg-yellow-600" data-tts-target data-lang-key="tts_play_btn">ğŸ”Š èªéŸ³å°è®€</button>
            <div class="h-60 w-full my-8 scroll-reveal">
              <canvas id="timelineChart"></canvas>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mt-4">
              <div class="styled-card scroll-reveal">
                <div class="border-b-2 border-yellow-500 pb-2 mb-3">
                  <div class="text-3xl font-bold text-red-800" data-lang-key="emperor_1_name" style="font-family: var(--title-font);">å”é«˜ç¥– (ææ·µ)</div>
                  <div class="text-gray-600" data-lang-key="emperor_1_reign">åœ¨ä½: 618-626</div>
                </div>
                <ul class="list-disc list-inside text-gray-700 space-y-2">
                  <li data-lang-key="emperor_1_feat1">å¥ å®šå”æœåˆ¶åº¦èˆ‡å®˜åƒšé«”ç³»</li>
                  <li data-lang-key="emperor_1_feat2">çµ±ä¸€è²¨å¹£ï¼Œå»ºç«‹é‘„å¹£ç³»çµ±</li>
                  <li data-lang-key="emperor_1_feat3">æ²¿ç”¨éš‹æœçš„å‡ç”°åˆ¶</li>
                </ul>
              </div>
              <div class="styled-card scroll-reveal" style="transition-delay: 0.1s;">
                <div class="border-b-2 border-yellow-500 pb-2 mb-3">
                  <div class="text-3xl font-bold text-red-800" data-lang-key="emperor_2_name" style="font-family: var(--title-font);">å”å¤ªå®— (æä¸–æ°‘)</div>
                  <div class="text-gray-600" data-lang-key="emperor_2_reign">åœ¨ä½: 626-649</div>
                </div>
                <ul class="list-disc list-inside text-gray-700 space-y-2">
                  <li data-lang-key="emperor_2_feat1">é–‹å‰µã€Œè²è§€ä¹‹æ²»ã€ï¼Œè™›å¿ƒç´è««</li>
                  <li data-lang-key="emperor_2_feat2">æ“´å¤§ç§‘èˆ‰åˆ¶åº¦ï¼Œé¸æ‹”è³¢æ‰</li>
                  <li data-lang-key="emperor_2_feat3">æ“Šæ•—æ±çªå¥ï¼Œè¢«å°Šç‚ºã€Œå¤©å¯æ±—ã€</li>
                </ul>
              </div>
              <div class="styled-card scroll-reveal" style="transition-delay: 0.2s;">
                <div class="border-b-2 border-yellow-500 pb-2 mb-3">
                  <div class="text-3xl font-bold text-red-800" data-lang-key="emperor_3_name" style="font-family: var(--title-font);">æ­¦å‰‡å¤©</div>
                  <div class="text-gray-600" data-lang-key="emperor_3_reign">æŒæ¬Š/åœ¨ä½: 690-705</div>
                </div>
                <ul class="list-disc list-inside text-gray-700 space-y-2">
                  <li data-lang-key="emperor_3_feat1">ä¸­åœ‹å²ä¸Šå”¯ä¸€çš„å¥³çš‡å¸</li>
                  <li data-lang-key="emperor_3_feat2">ä¸æ‹˜ä¸€æ ¼é™äººæ‰ï¼Œé‡è¦–ç§‘èˆ‰</li>
                  <li data-lang-key="emperor_3_feat3">ç¯¤ä¿¡ä½›æ•™ï¼Œæ¨å‹•å…¶ç™¼å±•</li>
                </ul>
              </div>
              <div class="styled-card scroll-reveal" style="transition-delay: 0.3s;">
                <div class="border-b-2 border-yellow-500 pb-2 mb-3">
                  <div class="text-3xl font-bold text-red-800" data-lang-key="emperor_4_name" style="font-family: var(--title-font);">å”ç„å®— (æéš†åŸº)</div>
                  <div class="text-gray-600" data-lang-key="emperor_4_reign">åœ¨ä½: 712-756</div>
                </div>
                <ul class="list-disc list-inside text-gray-700 space-y-2">
                  <li data-lang-key="emperor_4_feat1">é–‹å‰µã€Œé–‹å…ƒç››ä¸–ã€ï¼Œåœ‹åŠ›é¼ç››</li>
                  <li data-lang-key="emperor_4_feat2">æ–‡åŒ–è—è¡“é”åˆ°å·”å³°</li>
                  <li data-lang-key="emperor_4_feat3">çµ±æ²»æ™šæœŸå› å®‰å²ä¹‹äº‚è€Œçµ‚çµ</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- å€å¡Š 6: æ”¿åºœèˆ‡åˆ¶åº¦ -->
      <section id="government" class="slide-section has-bg-image">
        <div class="w-full">
          <div class="content-container">
            <h2 class="section-title scroll-reveal" data-lang-key="gov_title">æ”¿åºœèˆ‡åˆ¶åº¦</h2><button class="tts-btn ml-4 px-3 py-1 rounded bg-yellow-500 text-white hover:bg-yellow-600" data-tts-target data-lang-key="tts_play_btn">ğŸ”Š èªéŸ³å°è®€</button>
            <div class="flex flex-col lg:flex-row items-center gap-12 mt-8">
              <div class="lg:w-1/2 flex flex-col gap-8">
                <div class="styled-card scroll-reveal">
                  <h3 class="text-2xl text-red-800 mb-3 flex items-center font-bold"><i class="fas fa-scroll mr-4 text-yellow-500 text-3xl"></i><span data-lang-key="gov_box1_title">ç§‘èˆ‰åˆ¶åº¦</span></h3>
                  <p class="leading-relaxed" data-lang-key="gov_box1_desc">å”æœå®Œå–„ä¸¦æ“´å¤§äº†ç§‘èˆ‰åˆ¶åº¦ï¼Œé€šéè€ƒè©¦é¸æ‹”å®˜å“¡ã€‚é€™æ‰“ç ´äº†å£«æ—å°å®˜ä½çš„å£Ÿæ–·ï¼Œç‚ºç¤¾æœƒä¸‹å±¤æ‰ä¿Šæä¾›äº†ä¸Šå‡é€šé“ï¼Œæ˜¯å…¶è³¢èƒ½æ”¿æ²»çš„åŸºçŸ³ã€‚</p>
                </div>
                <div class="styled-card scroll-reveal" style="transition-delay: 0.1s;">
                  <h3 class="text-2xl text-red-800 mb-3 flex items-center font-bold"><i class="fas fa-landmark mr-4 text-yellow-500 text-3xl"></i><span data-lang-key="gov_box2_title">ä¸‰çœå…­éƒ¨åˆ¶</span></h3>
                  <p class="leading-relaxed" data-lang-key="gov_box2_desc">ä¸­å¤®æ”¿åºœå¯¦è¡Œä¸‰çœå…­éƒ¨åˆ¶ï¼Œå°‡æ±ºç­–ï¼ˆä¸­æ›¸çœï¼‰ã€å¯©è­°ï¼ˆé–€ä¸‹çœï¼‰ã€åŸ·è¡Œï¼ˆå°šæ›¸çœï¼‰çš„æ¬ŠåŠ›åˆ†é–‹ï¼Œå½¢æˆä¸€å¥—ç²¾å¯†çš„åˆ¶è¡¡é«”ç³»ï¼Œæé«˜äº†è¡Œæ”¿æ•ˆç‡ã€‚</p>
                </div>
                <div class="styled-card scroll-reveal" style="transition-delay: 0.2s;">
                  <h3 class="text-2xl text-red-800 mb-3 flex items-center font-bold"><i class="fas fa-balance-scale mr-4 text-yellow-500 text-3xl"></i><span data-lang-key="gov_box3_title">ç§Ÿåº¸èª¿åˆ¶èˆ‡å‡ç”°åˆ¶</span></h3>
                  <p class="leading-relaxed" data-lang-key="gov_box3_desc">å‰æœŸå¯¦è¡Œå‡ç”°åˆ¶åˆ†é…åœŸåœ°ï¼Œä¸¦åœ¨æ­¤åŸºç¤ä¸Šæ¨è¡Œç§Ÿåº¸èª¿ç¨…åˆ¶ã€‚æ­¤åˆ¶åº¦ç¢ºä¿äº†åœ‹å®¶è²¡æ”¿æ”¶å…¥å’Œå‹å½¹ä¾†æºï¼Œä½†åœ¨å¾ŒæœŸå› åœŸåœ°å…¼ä½µè€Œç“¦è§£ã€‚</p>
                </div>
              </div>
              <div class="lg:w-1/2 scroll-reveal" style="transition-delay: 0.3s;">
                <div class="h-96 w-full p-4 bg-white/80 rounded-lg shadow-inner">
                  <canvas id="governmentChart"></canvas>
                </div>
                <p class="text-center mt-4" data-lang-key="gov_chart_caption">åœ–è¡¨é¡¯ç¤ºå”ä»£å®˜åƒšæ©Ÿæ§‹çš„æ“´å¼µèˆ‡è½‰è®Šï¼Œæ™šæœŸåœ°æ–¹å®˜å“¡æ•¸é‡åŠ‡å¢ï¼Œåæ˜ äº†ä¸­å¤®æ¬ŠåŠ›çš„å‰Šå¼±ã€‚</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- å€å¡Š 7: æ–‡åŒ–é»ƒé‡‘æ™‚ä»£ -->
      <section id="culture" class="slide-section has-bg-image">
        <div class="w-full">
          <div class="content-container">
            <h2 class="section-title scroll-reveal" data-lang-key="culture_title">æ–‡åŒ–é»ƒé‡‘æ™‚ä»£</h2><button class="tts-btn ml-4 px-3 py-1 rounded bg-yellow-500 text-white hover:bg-yellow-600" data-tts-target data-lang-key="tts_play_btn">ğŸ”Š èªéŸ³å°è®€</button>
            <p class="text-center text-xl max-w-4xl mx-auto mb-12 scroll-reveal leading-relaxed" data-lang-key="culture_intro">å”ä»£è¢«è­½ç‚ºä¸­åœ‹è—è¡“èˆ‡æ–‡åŒ–çš„é»ƒé‡‘æ™‚ä»£ã€‚è©©æ­Œã€ç¹ªç•«ã€é›•å¡‘å’Œå·¥è—ç­‰é ˜åŸŸå‡å–å¾—äº†è¼ç…Œæˆå°±ï¼Œå…¶ç¾å­¸æ€æƒ³å½±éŸ¿äº†æ•´å€‹æ±äºã€‚</p>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
              <div class="styled-card flex flex-col md:flex-row bg-white overflow-hidden scroll-reveal">
                <div class="image-container-styled md:w-1/3 flex-shrink-0">
                  <img src="https://5b0988e595225.cdn.sohucs.com/q_70,c_zoom,w_640/images/20190807/7650e50367e34f7ab36918ea7967abc0.jpeg" alt="å”è©©æ„å¢ƒå±±æ°´ç•«" onerror="this.onerror=null;this.src='https://placehold.co/400x600/8C1B17/FDFBF5?text=å”è©©æ„å¢ƒ'">
                </div>
                <div class="p-5 flex flex-col justify-center flex-grow">
                  <h3 class="text-2xl text-red-800 font-bold mb-3 flex items-center"><i class="fas fa-paint-brush mr-3 text-yellow-500"></i><span data-lang-key="culture_card1_title">è©©æ­Œèˆ‡æ–‡å­¸</span></h3>
                  <p data-lang-key="culture_card1_desc">å”è©©é”åˆ°äº†ä¸­åœ‹è©©æ­Œçš„å·”å³°ï¼Œæç™½ã€æœç”«ã€ç‹ç¶­ç­‰è©©äººåå‚åƒå¤ã€‚å¾‹è©©ã€çµ•å¥ç­‰è©©æ­Œå½¢å¼åœ¨æ­¤æ™‚æˆç†Ÿã€‚</p>
                  <div class="text-lg italic text-gray-700 mt-4 pl-4 border-l-4 border-yellow-500" data-lang-key="culture_card1_quote" style="font-family: var(--cursive-font);">"çœ¾é³¥é«˜é£›ç›¡ï¼Œå­¤é›²ç¨å»é–’ã€‚<br>ç›¸çœ‹å…©ä¸å­ï¼Œåªæœ‰æ•¬äº­å±±ã€‚" <br>â€” æç™½</div>
                </div>
              </div>
              <div class="styled-card flex flex-col md:flex-row bg-white overflow-hidden scroll-reveal" style="transition-delay: 0.1s;">
                <div class="image-container-styled md:w-1/3 flex-shrink-0">
                  <img src="https://www.yadao8.com/uploads/allimg/20220803/1-220P3205AE27.jpg" alt="å”ä¸‰å½©" onerror="this.onerror=null;this.src='https://placehold.co/400x600/8C1B17/FDFBF5?text=å”ä¸‰å½©'">
                </div>
                <div class="p-5 flex flex-col justify-center flex-grow">
                  <h3 class="text-2xl text-red-800 font-bold mb-3 flex items-center"><i class="fas fa-monument mr-3 text-yellow-500"></i><span data-lang-key="culture_card2_title">é›•å¡‘èˆ‡å”ä¸‰å½©</span></h3>
                  <p data-lang-key="culture_card2_desc">å”ä»£é›•å¡‘ä»¥ä½›æ•™é€ åƒå’Œå¢“è‘¬ä¿‘æœ€ç‚ºçªå‡ºã€‚è‰²å½©æ–‘æ–•çš„å”ä¸‰å½©é™¶å™¨ç”Ÿå‹•åœ°æç¹ªäº†ä»•å¥³ã€å®˜å“¡ã€èƒ¡å•†å’Œå‹•ç‰©ï¼Œåæ˜ äº†ç¤¾æœƒçš„åœ‹éš›åŒ–é¢è²Œã€‚</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- å€å¡Š 8: åœ‹éš›äº¤æµ -->
      <section id="exchange" class="slide-section has-bg-image">
        <div class="w-full">
          <div class="content-container">
            <h2 class="section-title scroll-reveal" data-lang-key="exchange_title">åœ‹éš›äº¤æµ</h2><button class="tts-btn ml-4 px-3 py-1 rounded bg-yellow-500 text-white hover:bg-yellow-600" data-tts-target data-lang-key="tts_play_btn">ğŸ”Š èªéŸ³å°è®€</button>
            <div class="flex flex-col lg:flex-row items-center gap-12 mt-8">
              <div class="lg:w-3/5">
                <p class="text-xl leading-loose mb-8 scroll-reveal" data-lang-key="exchange_intro">å”æœå°å¤–ä¾†å½±éŸ¿æŒæ¥µç‚ºé–‹æ”¾çš„æ…‹åº¦ï¼Œé€ å°±äº†æ­·å²ä¸Šæœ€åœ‹éš›åŒ–çš„ç¤¾æœƒä¹‹ä¸€ã€‚é¦–éƒ½é•·å®‰åŒ¯é›†äº†ä¾†è‡ªäºæ´²ä¹ƒè‡³æ›´é åœ°å€çš„å•†äººã€å¤–äº¤å®˜ã€å­¸è€…å’Œå®—æ•™äººå£«ï¼Œæˆç‚ºä¸€å€‹åå‰¯å…¶å¯¦çš„å…¨çƒæ€§å¤§éƒ½æœƒã€‚</p>
                <div class="space-y-6">
                  <div class="styled-card scroll-reveal" style="transition-delay: 0.1s;">
                    <h3 class="text-xl font-bold text-red-800 mb-2 flex items-center"><i class="fas fa-route mr-3 text-yellow-500"></i><span data-lang-key="exchange_box1_title">çµ²è·¯è²¿æ˜“ç¶²çµ¡</span></h3>
                    <p data-lang-key="exchange_box1_desc">å”æœå°çµ²è·¯çš„æ§åˆ¶ä¿ƒé€²äº†ç©ºå‰çš„å•†æ¥­å’Œæ–‡åŒ–äº¤æµã€‚ä¸­åœ‹çš„çµ²ç¶¢ã€ç“·å™¨å’ŒèŒ¶è‘‰è¥¿å‚³ï¼Œè€Œä¾†è‡ªä¸­äºã€æ³¢æ–¯çš„å•†å“ã€æŠ€è¡“å’Œæ€æƒ³ä¹Ÿæ¹§å…¥ä¸­åœ‹ã€‚</p>
                  </div>
                  <div class="styled-card scroll-reveal" style="transition-delay: 0.2s;">
                    <h3 class="text-xl font-bold text-red-800 mb-2 flex items-center"><i class="fas fa-pray mr-3 text-yellow-500"></i><span data-lang-key="exchange_box2_title">å¤šå…ƒå®—æ•™å…±å­˜</span></h3>
                    <p data-lang-key="exchange_box2_desc">ä½›æ•™åœ¨å”ä»£é”åˆ°é¼ç››ï¼ŒåŒæ™‚æ™¯æ•™ï¼ˆåŸºç£æ•™è¶æ–¯è„«é‡Œæ´¾ï¼‰ã€ç¥†æ•™ã€æ‘©å°¼æ•™å’Œä¼Šæ–¯è˜­æ•™ä¹Ÿåœ¨ä¸­åœ‹å»ºç«‹ç¤¾ç¾¤ï¼Œå±•ç¾äº†å”æœéå‡¡çš„å®—æ•™å¯¬å®¹ã€‚</p>
                  </div>
                </div>
              </div>
              <div class="lg:w-2/5 scroll-reveal" style="transition-delay: 0.3s;">
                <div class="h-80 w-full mb-8 p-4 bg-white/80 rounded-lg shadow-inner">
                  <canvas id="relationChart"></canvas>
                </div>
                <div class="image-container-styled">
                    <img src="https://files.reusebupo.com/static/auction/GI6hikckPgbmkvaS7FlnE.jpg" alt="Tang Dynasty Camel Figurine" class="w-full rounded-lg" onerror="this.onerror=null;this.src='https://placehold.co/600x400/8C1B17/FDFBF5?text=å”ä¸‰å½©é§±é§'">
                </div>
                <p class="text-sm italic mt-3 text-center" data-lang-key="exchange_img_caption">å”ä¸‰å½©é§±é§è¼‰æ¨‚ä¿‘ï¼Œç”Ÿå‹•åæ˜ äº†çµ²è·¯ä¸Šçš„æ–‡åŒ–èåˆã€‚</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- å€å¡Š 9: æ–‡äººé›…å£«èˆ‡ç§‘æŠ€å‰µæ–° -->
      <section id="scholars" class="slide-section has-bg-image">
        <div class="w-full">
          <div class="content-container">
            <h2 class="section-title scroll-reveal" data-lang-key="scholars_title">æ–‡äººé›…å£«èˆ‡ç§‘æŠ€å‰µæ–°</h2><button class="tts-btn ml-4 px-3 py-1 rounded bg-yellow-500 text-white hover:bg-yellow-600" data-tts-target data-lang-key="tts_play_btn">ğŸ”Š èªéŸ³å°è®€</button>
            <p class="text-center text-xl max-w-4xl mx-auto mb-12 scroll-reveal leading-relaxed" data-lang-key="scholars_intro">å”æœä¸åƒ…æ˜¯è©©æ­Œè—è¡“çš„é»ƒé‡‘æ™‚ä»£ï¼Œä¹Ÿæ˜¯ç§‘æŠ€å‰µæ–°çš„ç¹æ¦®æ™‚æœŸã€‚æ–‡äººé›…å£«çš„æ‰æƒ…èˆ‡å·¥åŒ çš„æ™ºæ…§å…±åŒæ¨å‹•äº†ç¤¾æœƒé€²æ­¥ã€‚</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
              <div class="scholar-card scroll-reveal">
                <div class="scholar-img">
                  <img src="https://i.ntdtv.com/assets/uploads/2019/02/412px-libai-touxiang--600x400.jpg" alt="æç™½" onerror="this.onerror=null;this.src='https://placehold.co/600x400/8C1B17/FDFBF5?text=æç™½'">
                </div>
                <div class="scholar-content">
                  <h3 class="scholar-name" data-lang-key="scholar_1_name">æç™½</h3>
                  <p class="scholar-desc" data-lang-key="scholar_1_desc">å”ä»£æœ€å‰å¤§çš„æµªæ¼«ä¸»ç¾©è©©äººï¼Œè¢«è­½ç‚º"è©©ä»™"ã€‚å…¶è©©æ­Œè±ªæ”¾é£„é€¸ï¼Œå……æ»¿æƒ³åƒåŠ›ï¼Œä»£è¡¨ä½œæœ‰ã€Šå°‡é€²é…’ã€‹ã€ã€Šèœ€é“é›£ã€‹ç­‰ã€‚</p>
                </div>
              </div>
              
              <div class="scholar-card scroll-reveal" style="transition-delay: 0.1s;">
                <div class="scholar-img">
                  <img src="https://beyondnews852.com/wp-content/uploads/2025/05/DuFu-2.jpg" alt="æœç”«" onerror="this.onerror=null;this.src='https://placehold.co/600x400/8C1B17/FDFBF5?text=æœç”«'">
                </div>
                <div class="scholar-content">
                  <h3 class="scholar-name" data-lang-key="scholar_2_name">æœç”«</h3>
                  <p class="scholar-desc" data-lang-key="scholar_2_desc">è¢«å°Šç‚º"è©©è–"ï¼Œå…¶è©©ä½œæ·±åˆ»åæ˜ ç¤¾æœƒç¾å¯¦ï¼Œå……æ»¿äººæ–‡é—œæ‡·ã€‚ä»£è¡¨ä½œ"ä¸‰å"ã€"ä¸‰åˆ¥"æ·±åˆ»æç¹ªäº†æˆ°äº‚æ™‚æœŸäººæ°‘çš„è‹¦é›£ã€‚</p>
                </div>
              </div>
              
              <div class="scholar-card scroll-reveal" style="transition-delay: 0.2s;">
                <div class="scholar-img">
                  <!-- æ›´æ–°åƒ§ä¸€è¡Œç…§ç‰‡ -->
                  <img src="https://i2.kknews.cc/gptOT4sXErsI_mE8nXlyqSKQdvdM6bOJdA/0.jpg" alt="åƒ§ä¸€è¡Œ" onerror="this.onerror=null;this.src='https://placehold.co/600x400/8C1B17/FDFBF5?text=åƒ§ä¸€è¡Œ'">
                </div>
                <div class="scholar-content">
                  <h3 class="scholar-name" data-lang-key="scholar_3_name">åƒ§ä¸€è¡Œ</h3>
                  <p class="scholar-desc" data-lang-key="scholar_3_desc">å”ä»£è‘—åå¤©æ–‡å­¸å®¶ï¼Œä¸»æŒç·¨åˆ¶äº†ã€Šå¤§è¡æ›†ã€‹ï¼Œä¸¦é¦–æ¬¡æ¸¬é‡å­åˆç·šé•·åº¦ï¼Œç‚ºä¸–ç•Œå¤©æ–‡å­¸å²çš„é‡è¦æˆå°±ã€‚</p>
                </div>
              </div>
              
              <div class="scholar-card scroll-reveal" style="transition-delay: 0.3s;">
                <div class="scholar-img">
                  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Jingangjing.jpg/500px-Jingangjing.jpg" alt="é›•ç‰ˆå°åˆ·" onerror="this.onerror=null;this.src='https://placehold.co/600x400/8C1B17/FDFBF5?text=é›•ç‰ˆå°åˆ·'">
                </div>
                <div class="scholar-content">
                  <h3 class="scholar-name" data-lang-key="scholar_4_name">é›•ç‰ˆå°åˆ·</h3>
                  <p class="scholar-desc" data-lang-key="scholar_4_desc">å”ä»£æ˜¯é›•ç‰ˆå°åˆ·æŠ€è¡“æˆç†Ÿå’Œæ™®åŠçš„æ™‚æœŸï¼Œç¾å­˜æœ€æ—©çš„å°åˆ·å“ã€Šé‡‘å‰›ç¶“ã€‹å³å‡ºè‡ªå”ä»£ï¼Œå°æ–‡åŒ–å‚³æ’­ç”¢ç”Ÿé©å‘½æ€§å½±éŸ¿ã€‚</p>
                </div>
              </div>
            </div>
            
            <div class="mt-12 grid grid-cols-1 lg:grid-cols-2 gap-8">
              <div class="styled-card scroll-reveal">
                <h3 class="text-2xl text-red-800 mb-4 flex items-center font-bold"><i class="fas fa-book mr-4 text-yellow-500 text-3xl"></i><span data-lang-key="tech_title_1">ç«è—¥çš„ç™¼æ˜</span></h3>
                <p class="leading-relaxed" data-lang-key="tech_desc_1">å”ä»£ç…‰ä¸¹å®¶å¶ç„¶ç™¼ç¾äº†ç«è—¥é…æ–¹ï¼Œæœ€åˆç”¨æ–¼ç…™ç«å’Œä¿¡è™Ÿå½ˆï¼Œå¾Œé€æ¼¸ç™¼å±•ç‚ºè»äº‹ç”¨é€”ï¼Œæ”¹è®Šäº†æˆ°çˆ­å½¢æ…‹ã€‚</p>
              </div>
              
              <div class="styled-card scroll-reveal" style="transition-delay: 0.1s;">
                <h3 class="text-2xl text-red-800 mb-4 flex items-center font-bold"><i class="fas fa-compass mr-4 text-yellow-500 text-3xl"></i><span data-lang-key="tech_title_2">æŒ‡å—é‡çš„æ‡‰ç”¨</span></h3>
                <p class="leading-relaxed" data-lang-key="tech_desc_2">å”ä»£é–‹å§‹å°‡æŒ‡å—é‡æ‡‰ç”¨æ–¼èˆªæµ·ï¼Œç¨±ç‚º"å¸å—"ï¼Œå¤§å¤§æå‡äº†é æ´‹èˆªè¡Œçš„å®‰å…¨æ€§èˆ‡æº–ç¢ºæ€§ã€‚</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- å€å¡Š 10: è¡°äº¡èˆ‡å‚¾é ¹ -->
      <section id="decline" class="slide-section has-bg-image">
        <div class="w-full">
          <div class="content-container">
            <h2 class="section-title scroll-reveal" data-lang-key="decline_title">è¡°äº¡èˆ‡å‚¾é ¹</h2><button class="tts-btn ml-4 px-3 py-1 rounded bg-yellow-500 text-white hover:bg-yellow-600" data-tts-target data-lang-key="tts_play_btn">ğŸ”Š èªéŸ³å°è®€</button>
            <p class="text-center text-xl max-w-4xl mx-auto mb-12 scroll-reveal leading-relaxed" data-lang-key="decline_intro">å„˜ç®¡æ—©æœŸè¼ç…Œï¼Œä½†å”æœå¾ŒæœŸé¢è‡¨æ—¥ç›Šåš´å³»çš„æŒ‘æˆ°ã€‚é—œéµçš„è½‰æ©ç‚¹æ˜¯å®‰å²ä¹‹äº‚ï¼ˆ755-763å¹´ï¼‰ï¼Œå®ƒé‡å‰µäº†å¸åœ‹ï¼Œé–‹å•Ÿäº†ä¸€æ®µæ¼«é•·çš„è¡°é€€æœŸï¼Œæœ€çµ‚å°è‡´ç‹æœåœ¨907å¹´è¦†æ»…ã€‚</p>
            <div class="flex flex-col lg:flex-row items-center gap-12 mt-8">
              <div class="lg:w-1/2 scroll-reveal">
                <div class="h-96 w-full p-4 bg-white/80 rounded-lg shadow-inner">
                  <canvas id="declineChart"></canvas>
                </div>
                <p class="text-center mt-4" data-lang-key="decline_chart_caption">åœ–è¡¨ç›´è§€é¡¯ç¤ºäº†å®‰å²ä¹‹äº‚å¾Œï¼Œä¸­å¤®æ”¿åºœè²¡æ”¿èˆ‡æ¬ŠåŠ›ï¼ˆç´…è‰²ï¼‰æŒçºŒä¸‹æ»‘ï¼Œè€Œåœ°æ–¹ç¯€åº¦ä½¿çš„å‹¢åŠ›ï¼ˆé‡‘è‰²ï¼‰å‰‡ä¸æ–·ä¸Šå‡ï¼Œæœ€çµ‚æç©ºäº†å¸åœ‹çš„æ ¹åŸºã€‚</p>
              </div>
              <div class="lg:w-1/2 flex flex-col gap-8 scroll-reveal" style="transition-delay: 0.2s;">
                <div class="styled-card">
                  <h3 class="text-2xl text-red-800 mb-3 flex items-center font-bold"><i class="fas fa-users-cog mr-4 text-yellow-500 text-3xl"></i><span data-lang-key="decline_box1_title">è—©é®å‰²æ“š</span></h3>
                  <p class="leading-relaxed" data-lang-key="decline_box1_desc">å®‰å²ä¹‹äº‚å¾Œï¼Œåœ°æ–¹ç¯€åº¦ä½¿æ“å…µè‡ªé‡ï¼Œæˆç‚ºå‰²æ“šä¸€æ–¹çš„è»é–¥ã€‚ä»–å€‘æŒæ¡äº†åœ°æ–¹çš„è»äº‹ã€è¡Œæ”¿å’Œè²¡æ”¿å¤§æ¬Šï¼Œå°è‡´ä¸­å¤®é›†æ¬Šåå­˜å¯¦äº¡ã€‚</p>
                </div>
                <div class="styled-card">
                  <h3 class="text-2xl text-red-800 mb-3 flex items-center font-bold"><i class="fas fa-coins mr-4 text-yellow-500 text-3xl"></i><span data-lang-key="decline_box2_title">ç¶“æ¿Ÿå´©æ½°</span></h3>
                  <p class="leading-relaxed" data-lang-key="decline_box2_desc">å‡ç”°åˆ¶ç“¦è§£ï¼ŒåœŸåœ°å…¼ä½µåš´é‡ï¼Œå¤§é‡è¾²æ°‘å¤±å»åœŸåœ°ã€‚ç¨…æ”¶é«”ç³»å´©æ½°ï¼ŒåŠ ä¸Šé€£å¹´æˆ°äº‚ï¼Œåš´é‡ç ´å£äº†ç¤¾æœƒç¶“æ¿ŸåŸºç¤ã€‚</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- å€å¡Š 11: æ­·å²éºç”¢ -->
      <section id="legacy" class="slide-section has-bg-image">
        <div class="w-full">
          <div class="content-container">
            <h2 class="section-title scroll-reveal" data-lang-key="legacy_title">æ­·å²éºç”¢</h2><button class="tts-btn ml-4 px-3 py-1 rounded bg-yellow-500 text-white hover:bg-yellow-600" data-tts-target data-lang-key="tts_play_btn">ğŸ”Š èªéŸ³å°è®€</button>
            <p class="text-center text-xl max-w-4xl mx-auto mb-12 scroll-reveal leading-relaxed" data-lang-key="legacy_intro">å”æœçš„å½±éŸ¿åŠ›é é è¶…å‡ºäº†å…¶æ™‚ä»£ç•Œé™ï¼Œæ•¸ä¸–ç´€ä»¥ä¾†æŒçºŒå¡‘é€ è‘—ä¸­è¯æ–‡æ˜å’Œæ±äºæ–‡åŒ–ã€‚å®ƒåœ¨æ²»ç†ã€è—è¡“å’Œåœ‹éš›é—œä¿‚æ–¹é¢çš„æˆå°±ï¼Œè‡³ä»Šä»ç„¶å¼•èµ·å…±é³´ã€‚</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
              <div class="styled-card scroll-reveal">
                <h3 class="text-xl font-bold text-red-800 mb-3 flex items-center"><i class="fas fa-landmark mr-3 text-yellow-500"></i><span data-lang-key="legacy_box1_title">æ”¿æ²»èˆ‡è¡Œæ”¿éºç”¢</span></h3>
                <p class="leading-relaxed" data-lang-key="legacy_box1_desc">å”ä»£çš„ç§‘èˆ‰åˆ¶åº¦å’Œä¸‰çœå…­éƒ¨åˆ¶æˆç‚ºå¾Œä¸–ç‹æœçš„å…¸ç¯„ï¼Œå…¶æ³•å¾‹é«”ç³»ä¹Ÿæ·±åˆ»å½±éŸ¿äº†æ±äºå„åœ‹ã€‚</p>
              </div>
              <div class="styled-card scroll-reveal" style="transition-delay: 0.1s;">
                <h3 class="text-xl font-bold text-red-800 mb-3 flex items-center"><i class="fas fa-book-open mr-3 text-yellow-500"></i><span data-lang-key="legacy_box2_title">æ–‡åŒ–è—è¡“ç‘°å¯¶</span></h3>
                <p class="leading-relaxed" data-lang-key="legacy_box2_desc">å”è©©è¢«è¦–ç‚ºä¸­åœ‹æ–‡å­¸çš„å·”å³°ã€‚å”ä»£çš„ç¾å­¸åŸå‰‡æŒçºŒå½±éŸ¿è‘—æ±äºè—è¡“ï¼Œå…¶é–‹æ”¾åŒ…å®¹çš„æ–‡åŒ–ç²¾ç¥åœ¨ä»Šæ—¥å…¨çƒåŒ–æ™‚ä»£ä¾ç„¶å…·æœ‰å•Ÿç¤ºæ„ç¾©ã€‚</p>
              </div>
            </div>
            <div class="quote-block p-8 my-8 scroll-reveal rounded-lg">
              <p class="text-2xl italic leading-relaxed" data-lang-key="legacy_quote">"å”æœä»£è¡¨äº†ä¸­è¯æ–‡æ˜çš„é»ƒé‡‘æ™‚ä»£ï¼Œç•¶æ™‚çš„ä¸­åœ‹æ˜¯åœ°çƒä¸Šæœ€å¼·å¤§ã€æœ€ç¹æ¦®ã€æœ€åœ‹éš›åŒ–çš„åœ‹å®¶ã€‚"</p>
              <p class="text-right font-semibold mt-4 text-lg" data-lang-key="legacy_quote_author">â€” æ„›å¾·è¯Â·è¬å¼— (Edward H. Schafer)ï¼Œæ­·å²å­¸å®¶</p>
            </div>
          </div>
        </div>
      </section>

      <!-- å€å¡Š 12: å¤§å”ç››ä¸–è¦–é » -->
      <section id="tang-video" class="slide-section has-bg-image">
        <div class="w-full">
          <div class="content-container">
            <h2 class="section-title scroll-reveal" data-lang-key="tang_video_title">å¤§å”ç››ä¸–AIæ¨¡æ“¬è¦–é »</h2><button class="tts-btn ml-4 px-3 py-1 rounded bg-yellow-500 text-white hover:bg-yellow-600" data-tts-target data-lang-key="tts_play_btn">ğŸ”Š èªéŸ³å°è®€</button>
            
            <!-- å„ªåŒ–çš„è¦–é »å®¹å™¨ -->
            <div class="scroll-reveal my-8" style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; border-radius: 15px; box-shadow: 0 15px 40px rgba(0,0,0,0.3); border: 3px solid var(--accent-light);">
              <iframe 
                id="gdrive-player"
                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
                src="https://drive.google.com/file/d/1pHxQavi46MXoSxTsxMbx-oiZzvkltItl/preview" 
                title="Google Drive video player" 
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen"
                allowfullscreen>
              </iframe>
            </div>

            <!-- è¦–é »æ’­æ”¾æç¤º -->
            <div class="video-tip scroll-reveal">
              <p><i class="fas fa-info-circle mr-2"></i><span data-lang-key="video_tip">è‹¥å½±ç‰‡ç„¡æ³•æ’­æ”¾ï¼Œè«‹<a href="https://drive.google.com/file/d/1pHxQavi46MXoSxTsxMbx-oiZzvkltItl/view" target="_blank">é»æ­¤ç›´æ¥é–‹å•Ÿ</a></span></p>
            </div>

            <p class="text-xl leading-loose max-w-4xl mx-auto mt-10 scroll-reveal" data-lang-key="tang_video_desc">
              <strong>å¤§å”ç››ä¸–ç™¾å§“ä¸€æ—¥ç”Ÿæ´»</strong><br><br>å¤§å”ç››ä¸–çš„ç™¾å§“ç”Ÿæ´»è±å¯Œå¤šå½©ã€‚æ¸…æ™¨ï¼Œé•·å®‰åŸéš¨è‘—ä¸€ç™¾ä¸‹ã€Œå•Ÿå¤é–€ã€çš„é¼“è²ç”¦é†’ï¼ŒåŠé–€é–‹å•Ÿï¼Œäººå€‘é–‹å§‹ä¸€å¤©çš„æ´»å‹•ã€‚æ±ã€è¥¿å…©å¸‚æ˜¯ç•¶æ™‚çš„å•†æ¥­ä¸­å¿ƒï¼Œè²¨ç‰©ç³ç‘¯æ»¿ç›®ï¼Œä¾†è‡ªä¸–ç•Œå„åœ°çš„å•†äººé›²é›†æ–¼æ­¤ã€‚å¸‚æ°‘å€‘æˆ–åœ¨èŒ¶é¤¨è½æ›¸å“èŒ—ï¼Œæˆ–åœ¨é…’æ¨“å®´é£²ä½œæ¨‚ï¼Œå¤œç”Ÿæ´»ä¹Ÿå› ã€Œå¤œç¦ã€çš„æ”¾å¯¬è€Œè®Šå¾—ç†±é¬§éå‡¡ã€‚å¥³æ€§åœ°ä½ç›¸å°è¼ƒé«˜ï¼Œå¯ä»¥åƒèˆ‡é¨é¦¬ã€æ‰“çƒç­‰ç¤¾äº¤æ´»å‹•ï¼Œæœé£¾é¢¨æ ¼é–‹æ”¾è‡ªä¿¡ã€‚é€™æ˜¯ä¸€å€‹å……æ»¿æ´»åŠ›ã€é–‹æ”¾åŒ…å®¹çš„æ™‚ä»£ï¼Œç™¾å§“å®‰å±…æ¨‚æ¥­ï¼Œç²¾ç¥æ–‡åŒ–ç”Ÿæ´»æ¥µç‚ºå¯Œè¶³ã€‚
            </p>
          </div>
        </div>
      </section>

    </main>

    <script>
    // --- ç¿»è­¯è³‡æ–™ ---
    const translations = {
      'zh-TW': {
        nav_home: 'é¦–é ', nav_overview: 'ç‹æœç¸½è¦½', nav_timeline: 'å¤§äº‹å¹´è¡¨', nav_territory: 'ç–†åŸŸèˆ‡åœ°ç†', nav_emperors: 'é‡è¦å¸ç‹', nav_government: 'æ”¿åºœèˆ‡åˆ¶åº¦', nav_culture: 'æ–‡åŒ–é»ƒé‡‘æ™‚ä»£', nav_exchange: 'åœ‹éš›äº¤æµ', nav_scholars: 'æ–‡äººèˆ‡ç§‘æŠ€', nav_decline: 'è¡°äº¡èˆ‡å‚¾é ¹', nav_legacy: 'æ­·å²éºç”¢', nav_tang_video: 'å¤§å”ç››ä¸–è¦–é »',
        title_main: 'å¤§å”ç‹æœ<br>The Tang Dynasty', title_dates: 'è¥¿å…ƒ 618 - 907 å¹´', title_subtitle: "ä¸­è¯æ–‡æ˜çš„é»ƒé‡‘æ™‚ä»£", title_presenter: 'ä¸€å ´é—œæ–¼æ”¿æ²»ã€æ–‡åŒ–èˆ‡æ­·å²éºç”¢çš„å…¨é¢æ¢ç´¢<br>å¤§å­¸æ­·å²èª²ç¨‹',
        copyright: 'å±•ç¤ºç…§ç‰‡èˆ‡é…æ¨‚å…¶ç‰ˆæ¬Šå±¬åŸå‰µæ‰€æœ‰ï¼›ç´”åˆ†äº«å‹¿å•†ç”¨ã€‚',
        tts_play_btn: 'ğŸ”Š èªéŸ³å°è®€', tts_stop_btn: 'â¹ï¸ åœæ­¢å°è®€',
        overview_title: 'ç‹æœç¸½è¦½ï¼šä¸­åœ‹çš„é»ƒé‡‘æ™‚ä»£',
        overview_p1: 'å”æœï¼ˆè¥¿å…ƒ618-907å¹´ï¼‰è¢«å»£æ³›èªç‚ºæ˜¯ä¸­è¯å¸åœ‹æ–‡æ˜çš„å·”å³°ï¼Œä¹Ÿæ˜¯ä¸–ç•Œæ­·å²ä¸Šæœ€å‰å¤§çš„å¸åœ‹ä¹‹ä¸€ã€‚åœ¨è¿‘ä¸‰å€‹ä¸–ç´€çš„çµ±æ²»ä¸­ï¼Œå®ƒå±•ç¾äº†å‰æ‰€æœªæœ‰çš„ç¹æ¦®ã€æ–‡åŒ–è¼ç…Œå’Œåœ‹éš›åŒ–çš„é–‹æ”¾ç²¾ç¥ã€‚',
        overview_p2: 'ç¹¼æ‰¿çŸ­æš«çš„éš‹æœï¼Œå”æœå»ºç«‹äº†ä¸€å¥—å½±éŸ¿æ±äºæ•¸ä¸–ç´€çš„æ²»ç†ã€æ–‡åŒ–èˆ‡åœ‹éš›é—œä¿‚æ¨¡å¼ã€‚å…¶é¦–éƒ½é•·å®‰ï¼ˆä»Šè¥¿å®‰ï¼‰æˆç‚ºç•¶æ™‚ä¸–ç•Œä¸Šè¦æ¨¡æœ€å¤§ã€æœ€åœ‹éš›åŒ–çš„éƒ½å¸‚ã€‚',
        overview_key_title: 'æ ¸å¿ƒç‰¹å¾µ',
        overview_key_1: 'è¿‘ä¸‰ç™¾å¹´ç›¸å°ç©©å®šèˆ‡ç¹æ¦®', overview_key_2: 'ç©ºå‰çš„é ˜åœŸæ“´å¼µèˆ‡åœ‹éš›å½±éŸ¿åŠ›', overview_key_3: 'è·¨è¶Šå¤šé ˜åŸŸçš„æ–‡åŒ–èˆ‡è—è¡“ç¹ç››', overview_key_4: 'å°å¤–ä¾†å½±éŸ¿èˆ‡æ€æƒ³æŒé–‹æ”¾æ…‹åº¦çš„åœ‹éš›åŒ–ç¤¾æœƒ', overview_key_5: 'å®Œå–„çš„è¡Œæ”¿é«”ç³»èˆ‡è³¢èƒ½æ²»ç†',
        overview_img_caption: 'å”ä»£ç•«ä½œæç¹ªå®®å»·ä»•å¥³ï¼Œå±•ç¾äº†ç•¶æ™‚ç²¾æ¹›çš„è—è¡“æˆå°±ã€‚',
        timeline_title: 'å¤§å”ç‹æœèˆˆè¡°å²',
        timeline_1_title: '618å¹´: å”æœå»ºç«‹', timeline_1_desc: 'éš‹æœ«å¤©ä¸‹å¤§äº‚ï¼Œå¤ªåŸç•™å®ˆææ·µï¼ˆå”é«˜ç¥–ï¼‰æ–¼é•·å®‰ç¨±å¸ï¼Œå»ºç«‹å”æœï¼Œå®šéƒ½é•·å®‰ã€‚',
        timeline_2_title: '626å¹´: ç„æ­¦é–€ä¹‹è®Š', timeline_2_desc: 'æä¸–æ°‘ï¼ˆå”å¤ªå®—ï¼‰ç™¼å‹•æ”¿è®Šï¼Œæ®ºæ­»å…¶å…„æå»ºæˆèˆ‡å¼Ÿæå…ƒå‰ï¼Œéš¨å¾Œå³ä½ï¼Œé–‹å‰µã€Œè²è§€ä¹‹æ²»ã€ã€‚',
        timeline_3_title: '649-690å¹´: é«˜å®—èˆ‡æ­¦åæ™‚æœŸ', timeline_3_desc: 'å”é«˜å®—æ™‚æœŸï¼Œç–†åŸŸé”åˆ°é ‚å³°ã€‚å…¶å¾Œï¼Œæ­¦å‰‡å¤©é€æ¼¸æŒæ¬Šï¼Œç‚ºç¨±å¸é‹ªè·¯ã€‚',
        timeline_4_title: '690-705å¹´: æ­¦å‘¨æ™‚æœŸ', timeline_4_desc: 'æ­¦å‰‡å¤©ç¨±å¸ï¼Œæ”¹åœ‹è™Ÿç‚ºå‘¨ï¼Œæˆç‚ºä¸­åœ‹æ­·å²ä¸Šå”¯ä¸€çš„å¥³çš‡å¸ã€‚å¥¹ææ‹”è³¢èƒ½ï¼Œæ”¹é©ç§‘èˆ‰ã€‚',
        timeline_5_title: '712-756å¹´: é–‹å…ƒç››ä¸–', timeline_5_desc: 'å”ç„å®—æéš†åŸºåœ¨ä½å‰æœŸï¼Œæ”¿æ²»æ¸…æ˜ï¼Œç¶“æ¿Ÿç¹æ¦®ï¼Œæ–‡åŒ–é¼ç››ï¼Œå”æœåœ‹åŠ›é”åˆ°å·”å³°ã€‚',
        timeline_6_title: '755-763å¹´: å®‰å²ä¹‹äº‚', timeline_6_desc: 'ç¯€åº¦ä½¿å®‰ç¥¿å±±ã€å²æ€æ˜ç™¼å‹•å›äº‚ï¼Œé€™å ´é•·é”å…«å¹´çš„æˆ°äº‚æˆç‚ºå”æœç”±ç››è½‰è¡°çš„é—œéµè½‰æ©é»ã€‚',
        timeline_7_title: '780å¹´å¾Œ: è—©é®å‰²æ“š', timeline_7_desc: 'å®‰å²ä¹‹äº‚å¾Œï¼Œåœ°æ–¹ç¯€åº¦ä½¿æ¬ŠåŠ›è†¨è„¹ï¼Œæ“å…µè‡ªé‡ï¼Œä¸­å¤®æ”¿åºœçš„æ§åˆ¶åŠ›æ€¥åŠ‡ä¸‹é™ï¼Œå½¢æˆè—©é®å‰²æ“šçš„å±€é¢ã€‚',
        timeline_8_title: '875-884å¹´: é»ƒå·¢ä¹‹äº‚', timeline_8_desc: 'å¤§è¦æ¨¡çš„è¾²æ°‘èµ·ç¾©å¸­æ²å…¨åœ‹ï¼Œåš´é‡å‹•æ–äº†å”æœçš„çµ±æ²»æ ¹åŸºï¼Œé•·å®‰å’Œæ´›é™½å…©äº¬å‡é­ç ´å£ã€‚',
        timeline_9_title: '907å¹´: å”æœæ»…äº¡', timeline_9_desc: 'æ¬Šè‡£æœ±æº«å»¢é»œå”å“€å¸ï¼Œè‡ªç«‹ç‚ºå¸ï¼Œå»ºç«‹å¾Œæ¢ã€‚å”æœæ­£å¼æ»…äº¡ï¼Œä¸­åœ‹é€²å…¥äº”ä»£ååœ‹çš„åˆ†è£‚æ™‚æœŸã€‚',
        territory_title: 'ç–†åŸŸèˆ‡åœ°ç†',
        territory_map_caption: 'åœ–ç‚ºå”æœæœ€å¤§ç–†åŸŸåœ–ã€‚é»æ“Šåœ°åœ–ä¸Šçš„<i class="fas fa-star text-yellow-500"></i>åœ–æ¨™æŸ¥çœ‹æ›´å¤šè³‡è¨Šã€‚',
        territory_p1: 'åœ¨8ä¸–ç´€åˆçš„é¼ç››æ™‚æœŸï¼Œå”æœæ§åˆ¶è‘—å»£è¢¤çš„é ˜åœŸï¼Œå…¶ç‰ˆåœ–è¶…è¶Šäº†æ¼¢æœã€‚å¸åœ‹å‘è¥¿æ·±å…¥ä¸­äºï¼Œç‰¢ç‰¢æ§åˆ¶äº†é—œéµçš„çµ²è·¯è²¿æ˜“è·¯ç·šï¼Œä¸¦å»ºç«‹äº†ä¸€å¥—è—©å±¬åœ‹èˆ‡æœè²¢é«”ç³»ã€‚',
        territory_stats_title: 'é ˜åœŸæ•¸æ“š',
        territory_stats_1a: 'æœ€å¤§ç–†åŸŸ', territory_stats_1b: 'ç´„540è¬å¹³æ–¹å…¬é‡Œ',
        territory_stats_2a: 'é¼ç››äººå£', territory_stats_2b: 'ç´„8000è¬ (9ä¸–ç´€)',
        territory_stats_3a: 'ä¸»è¦é¦–éƒ½', territory_stats_3b: 'é•·å®‰ (ä»Šè¥¿å®‰)',
        territory_stats_4a: 'æ¬¡è¦é¦–éƒ½', territory_stats_4b: 'æ´›é™½',
        map_changan_title: 'äº¬å¸«é•·å®‰', map_changan_desc: 'å”æœçš„é¦–éƒ½ï¼Œç•¶æ™‚ä¸–ç•Œä¸Šæœ€å¤§çš„åŸå¸‚ï¼Œäººå£è¶…éç™¾è¬ã€‚å®ƒæ˜¯ä¸€å€‹åœ‹éš›åŒ–çš„å¤§éƒ½å¸‚ï¼Œä¹Ÿæ˜¯çµ²ç¶¢ä¹‹è·¯çš„æ±æ–¹èµ·é»ã€‚',
        map_luoyang_title: 'æ±éƒ½æ´›é™½', map_luoyang_desc: 'å”æœçš„é™ªéƒ½ï¼Œä½æ–¼é»ƒæ²³ä¸­æ¸¸ï¼Œæ˜¯é‡è¦çš„äº¤é€šæ¨ç´å’Œç¶“æ¿Ÿä¸­å¿ƒã€‚æ­¦å‰‡å¤©æ™‚æœŸæ›¾å°‡å…¶å®šç‚ºç¥éƒ½ã€‚',
        map_silkroad_title: 'çµ²ç¶¢ä¹‹è·¯', map_silkroad_desc: 'å”æœæ§åˆ¶äº†çµ²è·¯æ±æ®µçš„é—œéµè·¯ç·šï¼Œä¿ƒé€²äº†èˆ‡ä¸­äºã€æ³¢æ–¯ã€é˜¿æ‹‰ä¼¯ä¹ƒè‡³æ‹œå åº­å¸åœ‹çš„ç©ºå‰æ–‡åŒ–èˆ‡è²¿æ˜“äº¤æµã€‚',
        emperors_title: 'é‡è¦å¸ç‹',
        emperor_1_name: 'å”é«˜ç¥– (ææ·µ)', emperor_1_reign: 'åœ¨ä½: 618-626', emperor_1_feat1: 'å¥ å®šå”æœåˆ¶åº¦èˆ‡å®˜åƒšé«”ç³»', emperor_1_feat2: 'çµ±ä¸€è²¨å¹£ï¼Œå»ºç«‹é‘„å¹£ç³»çµ±', emperor_1_feat3: 'æ²¿ç”¨éš‹æœçš„å‡ç”°åˆ¶',
        emperor_2_name: 'å”å¤ªå®— (æä¸–æ°‘)', emperor_2_reign: 'åœ¨ä½: 626-649', emperor_2_feat1: 'é–‹å‰µã€Œè²è§€ä¹‹æ²»ã€ï¼Œè™›å¿ƒç´è««', emperor_2_feat2: 'æ“´å¤§ç§‘èˆ‰åˆ¶åº¦ï¼Œé¸æ‹”è³¢æ‰', emperor_2_feat3: 'æ“Šæ•—æ±çªå¥ï¼Œè¢«å°Šç‚ºã€Œå¤©å¯æ±—ã€',
        emperor_3_name: 'æ­¦å‰‡å¤©', emperor_3_reign: 'æŒæ¬Š/åœ¨ä½: 690-705', emperor_3_feat1: 'ä¸­åœ‹å²ä¸Šå”¯ä¸€çš„å¥³çš‡å¸', emperor_3_feat2: 'ä¸æ‹˜ä¸€æ ¼é™äººæ‰ï¼Œé‡è¦–ç§‘èˆ‰', emperor_3_feat3: 'ç¯¤ä¿¡ä½›æ•™ï¼Œæ¨å‹•å…¶ç™¼å±•',
        emperor_4_name: 'å”ç„å®— (æéš†åŸº)', emperor_4_reign: 'åœ¨ä½: 712-756', emperor_4_feat1: 'é–‹å‰µã€Œé–‹å…ƒç››ä¸–ã€ï¼Œåœ‹åŠ›é¼ç››', emperor_4_feat2: 'æ–‡åŒ–è—è¡“é”åˆ°å·”å³°', emperor_4_feat3: 'çµ±æ²»æ™šæœŸå› å®‰å²ä¹‹äº‚è€Œçµ‚çµ',
        gov_title: 'æ”¿åºœèˆ‡åˆ¶åº¦',
        gov_box1_title: 'ç§‘èˆ‰åˆ¶åº¦', gov_box1_desc: 'å”æœå®Œå–„ä¸¦æ“´å¤§äº†ç§‘èˆ‰åˆ¶åº¦ï¼Œé€šéè€ƒè©¦é¸æ‹”å®˜å“¡ã€‚é€™æ‰“ç ´äº†å£«æ—å°å®˜ä½çš„å£Ÿæ–·ï¼Œç‚ºç¤¾æœƒä¸‹å±¤æ‰ä¿Šæä¾›äº†ä¸Šå‡é€šé“ï¼Œæ˜¯å…¶è³¢èƒ½æ”¿æ²»çš„åŸºçŸ³ã€‚',
        gov_box2_title: 'ä¸‰çœå…­éƒ¨åˆ¶', gov_box2_desc: 'ä¸­å¤®æ”¿åºœå¯¦è¡Œä¸‰çœå…­éƒ¨åˆ¶ï¼Œå°‡æ±ºç­–ï¼ˆä¸­æ›¸çœï¼‰ã€å¯©è­°ï¼ˆé–€ä¸‹çœï¼‰ã€åŸ·è¡Œï¼ˆå°šæ›¸çœï¼‰çš„æ¬ŠåŠ›åˆ†é–‹ï¼Œå½¢æˆä¸€å¥—ç²¾å¯†çš„åˆ¶è¡¡é«”ç³»ï¼Œæé«˜äº†è¡Œæ”¿æ•ˆç‡ã€‚',
        gov_box3_title: 'ç§Ÿåº¸èª¿åˆ¶èˆ‡å‡ç”°åˆ¶', gov_box3_desc: 'å‰æœŸå¯¦è¡Œå‡ç”°åˆ¶åˆ†é…åœŸåœ°ï¼Œä¸¦åœ¨æ­¤åŸºç¤ä¸Šæ¨è¡Œç§Ÿåº¸èª¿ç¨…åˆ¶ã€‚æ­¤åˆ¶åº¦ç¢ºä¿äº†åœ‹å®¶è²¡æ”¿æ”¶å…¥å’Œå‹å½¹ä¾†æºï¼Œä½†åœ¨å¾ŒæœŸå› åœŸåœ°å…¼ä½µè€Œç“¦è§£ã€‚',
        gov_chart_caption: 'åœ–è¡¨é¡¯ç¤ºå”ä»£å®˜åƒšæ©Ÿæ§‹çš„æ“´å¼µèˆ‡è½‰è®Šï¼Œæ™šæœŸåœ°æ–¹å®˜å“¡æ•¸é‡åŠ‡å¢ï¼Œåæ˜ äº†ä¸­å¤®æ¬ŠåŠ›çš„å‰Šå¼±ã€‚',
        culture_title: 'æ–‡åŒ–é»ƒé‡‘æ™‚ä»£',
        culture_intro: 'å”ä»£è¢«è­½ç‚ºä¸­åœ‹è—è¡“èˆ‡æ–‡åŒ–çš„é»ƒé‡‘æ™‚ä»£ã€‚è©©æ­Œã€ç¹ªç•«ã€é›•å¡‘å’Œå·¥è—ç­‰é ˜åŸŸå‡å–å¾—äº†è¼ç…Œæˆå°±ï¼Œå…¶ç¾å­¸æ€æƒ³å½±éŸ¿äº†æ•´å€‹æ±äºã€‚',
        culture_card1_title: 'è©©æ­Œèˆ‡æ–‡å­¸', culture_card1_desc: 'å”è©©é”åˆ°äº†ä¸­åœ‹è©©æ­Œçš„å·”å³°ï¼Œæç™½ã€æœç”«ã€ç‹ç¶­ç­‰è©©äººåå‚åƒå¤ã€‚å¾‹è©©ã€çµ•å¥ç­‰è©©æ­Œå½¢å¼åœ¨æ­¤æ™‚æˆç†Ÿã€‚',
        culture_card1_quote: '"çœ¾é³¥é«˜é£›ç›¡ï¼Œå­¤é›²ç¨å»é–’ã€‚<br>ç›¸çœ‹å…©ä¸å­ï¼Œåªæœ‰æ•¬äº­å±±ã€‚" <br>â€” æç™½',
        culture_card2_title: 'é›•å¡‘èˆ‡å”ä¸‰å½©', culture_card2_desc: 'å”ä»£é›•å¡‘ä»¥ä½›æ•™é€ åƒå’Œå¢“è‘¬ä¿‘æœ€ç‚ºçªå‡ºã€‚è‰²å½©æ–‘æ–•çš„å”ä¸‰å½©é™¶å™¨ç”Ÿå‹•åœ°æç¹ªäº†ä»•å¥³ã€å®˜å“¡ã€èƒ¡å•†å’Œå‹•ç‰©ï¼Œåæ˜ äº†ç¤¾æœƒçš„åœ‹éš›åŒ–é¢è²Œã€‚',
        exchange_title: 'åœ‹éš›äº¤æµ',
        exchange_intro: 'å”æœå°å¤–ä¾†å½±éŸ¿æŒæ¥µç‚ºé–‹æ”¾çš„æ…‹åº¦ï¼Œé€ å°±äº†æ­·å²ä¸Šæœ€åœ‹éš›åŒ–çš„ç¤¾æœƒä¹‹ä¸€ã€‚é¦–éƒ½é•·å®‰åŒ¯é›†äº†ä¾†è‡ªäºæ´²ä¹ƒè‡³æ›´é åœ°å€çš„å•†äººã€å¤–äº¤å®˜ã€å­¸è€…å’Œå®—æ•™äººå£«ï¼Œæˆç‚ºä¸€å€‹åå‰¯å…¶å¯¦çš„å…¨çƒæ€§å¤§éƒ½æœƒã€‚',
        exchange_box1_title: 'çµ²è·¯è²¿æ˜“ç¶²çµ¡', exchange_box1_desc: 'å”æœå°çµ²è·¯çš„æ§åˆ¶ä¿ƒé€²äº†ç©ºå‰çš„å•†æ¥­å’Œæ–‡åŒ–äº¤æµã€‚ä¸­åœ‹çš„çµ²ç¶¢ã€ç“·å™¨å’ŒèŒ¶è‘‰è¥¿å‚³ï¼Œè€Œä¾†è‡ªä¸­äºã€æ³¢æ–¯çš„å•†å“ã€æŠ€è¡“å’Œæ€æƒ³ä¹Ÿæ¹§å…¥ä¸­åœ‹ã€‚',
        exchange_box2_title: 'å¤šå…ƒå®—æ•™å…±å­˜', exchange_box2_desc: 'ä½›æ•™åœ¨å”ä»£é”åˆ°é¼ç››ï¼ŒåŒæ™‚æ™¯æ•™ï¼ˆåŸºç£æ•™è¶æ–¯è„«é‡Œæ´¾ï¼‰ã€ç¥†æ•™ã€æ‘©å°¼æ•™å’Œä¼Šæ–¯è˜­æ•™ä¹Ÿåœ¨ä¸­åœ‹å»ºç«‹ç¤¾ç¾¤ï¼Œå±•ç¾äº†å”æœéå‡¡çš„å®—æ•™å¯¬å®¹ã€‚',
        exchange_img_caption: 'å”ä¸‰å½©é§±é§è¼‰æ¨‚ä¿‘ï¼Œç”Ÿå‹•åæ˜ äº†çµ²è·¯ä¸Šçš„æ–‡åŒ–èåˆã€‚',
        scholars_title: 'æ–‡äººé›…å£«èˆ‡ç§‘æŠ€å‰µæ–°',
        scholars_intro: 'å”æœä¸åƒ…æ˜¯è©©æ­Œè—è¡“çš„é»ƒé‡‘æ™‚ä»£ï¼Œä¹Ÿæ˜¯ç§‘æŠ€å‰µæ–°çš„ç¹æ¦®æ™‚æœŸã€‚æ–‡äººé›…å£«çš„æ‰æƒ…èˆ‡å·¥åŒ çš„æ™ºæ…§å…±åŒæ¨å‹•äº†ç¤¾æœƒé€²æ­¥ã€‚',
        scholar_1_name: 'æç™½', scholar_1_desc: 'å”ä»£æœ€å‰å¤§çš„æµªæ¼«ä¸»ç¾©è©©äººï¼Œè¢«è­½ç‚º"è©©ä»™"ã€‚å…¶è©©æ­Œè±ªæ”¾é£„é€¸ï¼Œå……æ»¿æƒ³åƒåŠ›ï¼Œä»£è¡¨ä½œæœ‰ã€Šå°‡é€²é…’ã€‹ã€ã€Šèœ€é“é›£ã€‹ç­‰ã€‚',
        scholar_2_name: 'æœç”«', scholar_2_desc: 'è¢«å°Šç‚º"è©©è–"ï¼Œå…¶è©©ä½œæ·±åˆ»åæ˜ ç¤¾æœƒç¾å¯¦ï¼Œå……æ»¿äººæ–‡é—œæ‡·ã€‚ä»£è¡¨ä½œ"ä¸‰å"ã€"ä¸‰åˆ¥"æ·±åˆ»æç¹ªäº†æˆ°äº‚æ™‚æœŸäººæ°‘çš„è‹¦é›£ã€‚',
        scholar_3_name: 'åƒ§ä¸€è¡Œ', scholar_3_desc: 'å”ä»£è‘—åå¤©æ–‡å­¸å®¶ï¼Œä¸»æŒç·¨åˆ¶äº†ã€Šå¤§è¡æ›†ã€‹ï¼Œä¸¦é¦–æ¬¡æ¸¬é‡å­åˆç·šé•·åº¦ï¼Œç‚ºä¸–ç•Œå¤©æ–‡å­¸å²çš„é‡è¦æˆå°±ã€‚',
        scholar_4_name: 'é›•ç‰ˆå°åˆ·', scholar_4_desc: 'å”ä»£æ˜¯é›•ç‰ˆå°åˆ·æŠ€è¡“æˆç†Ÿå’Œæ™®åŠçš„æ™‚æœŸï¼Œç¾å­˜æœ€æ—©çš„å°åˆ·å“ã€Šé‡‘å‰›ç¶“ã€‹å³å‡ºè‡ªå”ä»£ï¼Œå°æ–‡åŒ–å‚³æ’­ç”¢ç”Ÿé©å‘½æ€§å½±éŸ¿ã€‚',
        tech_title_1: 'ç«è—¥çš„ç™¼æ˜', tech_desc_1: 'å”ä»£ç…‰ä¸¹å®¶å¶ç„¶ç™¼ç¾äº†ç«è—¥é…æ–¹ï¼Œæœ€åˆç”¨æ–¼ç…™ç«å’Œä¿¡è™Ÿå½ˆï¼Œå¾Œé€æ¼¸ç™¼å±•ç‚ºè»äº‹ç”¨é€”ï¼Œæ”¹è®Šäº†æˆ°çˆ­å½¢æ…‹ã€‚',
        tech_title_2: 'æŒ‡å—é‡çš„æ‡‰ç”¨', tech_desc_2: 'å”ä»£é–‹å§‹å°‡æŒ‡å—é‡æ‡‰ç”¨æ–¼èˆªæµ·ï¼Œç¨±ç‚º"å¸å—"ï¼Œå¤§å¤§æå‡äº†é æ´‹èˆªè¡Œçš„å®‰å…¨æ€§èˆ‡æº–ç¢ºæ€§ã€‚',
        decline_title: 'è¡°äº¡èˆ‡å‚¾é ¹',
        decline_intro: 'å„˜ç®¡æ—©æœŸè¼ç…Œï¼Œä½†å”æœå¾ŒæœŸé¢è‡¨æ—¥ç›Šåš´å³»çš„æŒ‘æˆ°ã€‚é—œéµçš„è½‰æ©ç‚¹æ˜¯å®‰å²ä¹‹äº‚ï¼ˆ755-763å¹´ï¼‰ï¼Œå®ƒé‡å‰µäº†å¸åœ‹ï¼Œé–‹å•Ÿäº†ä¸€æ®µæ¼«é•·çš„è¡°é€€æœŸï¼Œæœ€çµ‚å°è‡´ç‹æœåœ¨907å¹´è¦†æ»…ã€‚',
        decline_chart_caption: 'åœ–è¡¨ç›´è§€é¡¯ç¤ºäº†å®‰å²ä¹‹äº‚å¾Œï¼Œä¸­å¤®æ”¿åºœè²¡æ”¿èˆ‡æ¬ŠåŠ›ï¼ˆç´…è‰²ï¼‰æŒçºŒä¸‹æ»‘ï¼Œè€Œåœ°æ–¹ç¯€åº¦ä½¿çš„å‹¢åŠ›ï¼ˆé‡‘è‰²ï¼‰å‰‡ä¸æ–·ä¸Šå‡ï¼Œæœ€çµ‚æç©ºäº†å¸åœ‹çš„æ ¹åŸºã€‚',
        decline_box1_title: 'è—©é®å‰²æ“š', decline_box1_desc: 'å®‰å²ä¹‹äº‚å¾Œï¼Œåœ°æ–¹ç¯€åº¦ä½¿æ“å…µè‡ªé‡ï¼Œæˆç‚ºå‰²æ“šä¸€æ–¹çš„è»é–¥ã€‚ä»–å€‘æŒæ¡äº†åœ°æ–¹çš„è»äº‹ã€è¡Œæ”¿å’Œè²¡æ”¿å¤§æ¬Šï¼Œå°è‡´ä¸­å¤®é›†æ¬Šåå­˜å¯¦äº¡ã€‚',
        decline_box2_title: 'ç¶“æ¿Ÿå´©æ½°', decline_box2_desc: 'å‡ç”°åˆ¶ç“¦è§£ï¼ŒåœŸåœ°å…¼ä½µåš´é‡ï¼Œå¤§é‡è¾²æ°‘å¤±å»åœŸåœ°ã€‚ç¨…æ”¶é«”ç³»å´©æ½°ï¼ŒåŠ ä¸Šé€£å¹´æˆ°äº‚ï¼Œåš´é‡ç ´å£äº†ç¤¾æœƒç¶“æ¿ŸåŸºç¤ã€‚',
        legacy_title: 'æ­·å²éºç”¢',
        legacy_intro: 'å”æœçš„å½±éŸ¿åŠ›é é è¶…å‡ºäº†å…¶æ™‚ä»£ç•Œé™ï¼Œæ•¸ä¸–ç´€ä»¥ä¾†æŒçºŒå¡‘é€ è‘—ä¸­è¯æ–‡æ˜å’Œæ±äºæ–‡åŒ–ã€‚å®ƒåœ¨æ²»ç†ã€è—è¡“å’Œåœ‹éš›é—œä¿‚æ–¹é¢çš„æˆå°±ï¼Œè‡³ä»Šä»ç„¶å¼•èµ·å…±é³´ã€‚',
        legacy_box1_title: 'æ”¿æ²»èˆ‡è¡Œæ”¿éºç”¢', legacy_box1_desc: 'å”ä»£çš„ç§‘èˆ‰åˆ¶åº¦å’Œä¸‰çœå…­éƒ¨åˆ¶æˆç‚ºå¾Œä¸–ç‹æœçš„å…¸ç¯„ï¼Œå…¶æ³•å¾‹é«”ç³»ä¹Ÿæ·±åˆ»å½±éŸ¿äº†æ±äºå„åœ‹ã€‚',
        legacy_box2_title: 'æ–‡åŒ–è—è¡“ç‘°å¯¶', legacy_box2_desc: 'å”è©©è¢«è¦–ç‚ºä¸­åœ‹æ–‡å­¸çš„å·”å³°ã€‚å”ä»£çš„ç¾å­¸åŸå‰‡æŒçºŒå½±éŸ¿è‘—æ±äºè—è¡“ï¼Œå…¶é–‹æ”¾åŒ…å®¹çš„æ–‡åŒ–ç²¾ç¥åœ¨ä»Šæ—¥å…¨çƒåŒ–æ™‚ä»£ä¾ç„¶å…·æœ‰å•Ÿç¤ºæ„ç¾©ã€‚',
        legacy_quote: '"å”æœä»£è¡¨äº†ä¸­è¯æ–‡æ˜çš„é»ƒé‡‘æ™‚ä»£ï¼Œç•¶æ™‚çš„ä¸­åœ‹æ˜¯åœ°çƒä¸Šæœ€å¼·å¤§ã€æœ€ç¹æ¦®ã€æœ€åœ‹éš›åŒ–çš„åœ‹å®¶ã€‚"',
        legacy_quote_author: 'â€” æ„›å¾·è¯Â·è¬å¼— (Edward H. Schafer)ï¼Œæ­·å²å­¸å®¶',
        tang_video_title: 'å¤§å”ç››ä¸–AIæ¨¡æ“¬è¦–é »',
        tang_video_desc: '<strong>å¤§å”ç››ä¸–ç™¾å§“ä¸€æ—¥ç”Ÿæ´»</strong><br><br>å¤§å”ç››ä¸–çš„ç™¾å§“ç”Ÿæ´»è±å¯Œå¤šå½©ã€‚æ¸…æ™¨ï¼Œé•·å®‰åŸéš¨è‘—ä¸€ç™¾ä¸‹ã€Œå•Ÿå¤é–€ã€çš„é¼“è²ç”¦é†’ï¼ŒåŠé–€é–‹å•Ÿï¼Œäººå€‘é–‹å§‹ä¸€å¤©çš„æ´»å‹•ã€‚æ±ã€è¥¿å…©å¸‚æ˜¯ç•¶æ™‚çš„å•†æ¥­ä¸­å¿ƒï¼Œè²¨ç‰©ç³ç‘¯æ»¿ç›®ï¼Œä¾†è‡ªä¸–ç•Œå„åœ°çš„å•†äººé›²é›†æ–¼æ­¤ã€‚å¸‚æ°‘å€‘æˆ–åœ¨èŒ¶é¤¨è½æ›¸å“èŒ—ï¼Œæˆ–åœ¨é…’æ¨“å®´é£²ä½œæ¨‚ï¼Œå¤œç”Ÿæ´»ä¹Ÿå› ã€Œå¤œç¦ã€çš„æ”¾å¯¬è€Œè®Šå¾—ç†±é¬§éå‡¡ã€‚å¥³æ€§åœ°ä½ç›¸å°è¼ƒé«˜ï¼Œå¯ä»¥åƒèˆ‡é¨é¦¬ã€æ‰“çƒç­‰ç¤¾äº¤æ´»å‹•ï¼Œæœé£¾é¢¨æ ¼é–‹æ”¾è‡ªä¿¡ã€‚é€™æ˜¯ä¸€å€‹å……æ»¿æ´»åŠ›ã€é–‹æ”¾åŒ…å®¹çš„æ™‚ä»£ï¼Œç™¾å§“å®‰å±…æ¨‚æ¥­ï¼Œç²¾ç¥æ–‡åŒ–ç”Ÿæ´»æ¥µç‚ºå¯Œè¶³ã€‚',
        video_tip: 'è‹¥å½±ç‰‡ç„¡æ³•æ’­æ”¾ï¼Œè«‹<a href="https://drive.google.com/file/d/1pHxQavi46MXoSxTsxMbx-oiZzvkltItl/view" target="_blank">é»æ­¤ç›´æ¥é–‹å•Ÿ</a>',
        chart_timeline_labels: ['é«˜ç¥–', 'å¤ªå®—', 'é«˜å®—/æ­¦å', 'æ­¦å‰‡å¤©', 'ä¸­å®—/ç¿å®—', 'ç„å®—', 'æ™šå”'],
        chart_gov_title: 'å”ä»£å®˜åƒšæ•¸é‡è®ŠåŒ–è¶¨å‹¢',
        chart_gov_label_central: 'ä¸­å¤®å®˜å“¡', chart_gov_label_provincial: 'åœ°æ–¹å®˜å“¡', chart_gov_yaxis: 'å®˜å“¡æ•¸é‡',
        chart_rel_title: 'å”æœå°å¤–é—œä¿‚ç¶²çµ¡',
        chart_rel_label: 'æ–‡åŒ–äº¤æµå¼·åº¦', chart_rel_cats: ['æ—¥æœ¬', 'æ–°ç¾…(éŸ“åœ‹)', 'åè•ƒ', 'ä¸­äº', 'æ³¢æ–¯', 'é˜¿æ‹‰ä¼¯', 'å°åº¦'],
        chart_dec_title: 'å”ä»£æ¬ŠåŠ›è½‰ç§»ç¤ºæ„åœ– (ç›¸å°å€¼)',
        chart_dec_label_central: 'ä¸­å¤®æ”¿åºœæ¬ŠåŠ›', chart_dec_label_regional: 'åœ°æ–¹è—©é®æ¬ŠåŠ›', chart_dec_yaxis: 'ç›¸å°æ¬ŠåŠ›æŒ‡æ•¸',
      },
      'en': {
        nav_home: 'Home', nav_overview: 'Overview', nav_timeline: 'Timeline', nav_territory: 'Territory', nav_emperors: 'Emperors', nav_government: 'Government', nav_culture: 'Culture', nav_exchange: 'Exchange', nav_scholars: 'Scholars & Tech', nav_decline: 'Decline', nav_legacy: 'Legacy', nav_tang_video: 'Tang Video',
        title_main: 'The Tang Dynasty', title_dates: '618 - 907 CE', title_subtitle: "China's Golden Age", title_presenter: 'A Comprehensive Exploration of Politics, Culture, and Legacy<br>University History Course',
        copyright: 'The copyright of photos and music belongs to the original creators. For sharing purposes only, not for commercial use.',
        tts_play_btn: 'ğŸ”Š Read Aloud', tts_stop_btn: 'â¹ï¸ Stop Reading',
        overview_title: 'Overview: China\'s Golden Age',
        overview_p1: 'The Tang Dynasty (618-907 CE) is widely regarded as a high point in Chinese civilization, and a golden age of cosmopolitan culture. Its territory, acquired through the military campaigns of its early rulers, was greater than that of the Han dynasty.',
        overview_p2: 'Following the short-lived Sui Dynasty, the Tang established a model of governance, culture, and international relations that would influence East Asia for centuries to come. Its capital Chang\'an (modern Xi\'an) became the world\'s largest and most cosmopolitan city of its time.',
        overview_key_title: 'Key Characteristics',
        overview_key_1: 'Nearly 300 years of relative stability and prosperity', overview_key_2: 'Unprecedented territorial expansion and international influence', overview_key_3: 'Cultural and artistic flowering across multiple domains', overview_key_4: 'Cosmopolitan society open to foreign influences and ideas', overview_key_5: 'Sophisticated administrative systems and meritocratic governance',
        overview_img_caption: 'Tang Dynasty painting depicting court ladies, showcasing the sophisticated artistic achievements of the period.',
        timeline_title: 'Rise and Fall of the Tang Dynasty',
        timeline_1_title: '618 CE: Establishment of Tang', timeline_1_desc: 'Amidst the chaos at the end of the Sui, Li Yuan (Emperor Gaozu) establishes the Tang Dynasty in Chang\'an.',
        timeline_2_title: '626 CE: Xuanwu Gate Incident', timeline_2_desc: 'Li Shimin (Emperor Taizong) takes power in a coup, launching the prosperous Zhenguan era.',
        timeline_3_title: '649-690 CE: Emperor Gaozong & Wu Zetian', timeline_3_desc: 'The empire reaches its largest extent. Wu Zetian gradually consolidates power.',
        timeline_4_title: '690-705 CE: Wu Zhou Dynasty', timeline_4_desc: 'Wu Zetian proclaims herself Empress Regnant, the only female emperor in Chinese history, fostering meritocracy and Buddhism.',
        timeline_5_title: '712-756 CE: Kaiyuan Glorious Era', timeline_5_desc: 'Under Emperor Xuanzong, the Tang Dynasty reaches its cultural and economic peak.',
        timeline_6_title: '755-763 CE: An Lushan Rebellion', timeline_6_desc: 'A devastating eight-year rebellion that marks the turning point of the dynasty from prosperity to decline.',
        timeline_7_title: 'Post-780 CE: Rise of Jiedushi', timeline_7_desc: 'After the rebellion, regional military governors (jiedushi) gain immense power, leading to de facto fragmentation of the empire.',
        timeline_8_title: '875-884 CE: Huang Chao Rebellion', timeline_8_desc: 'A massive peasant uprising sweeps across the country, fatally weakening the Tang government.',
        timeline_9_title: '907 CE: Fall of the Tang Dynasty', timeline_9_desc: 'The warlord Zhu Wen deposes the last Tang emperor, establishing the Later Liang and beginning the Five Dynasties and Ten Kingdoms period.',
        territory_title: 'Territory & Geography',
        territory_map_caption: 'Map of the Tang Dynasty at its greatest extent. Click the <i class="fas fa-star text-yellow-500"></i> icons for more info.',
        territory_p1: 'At its height in the early 8th century, the Tang Dynasty controlled a vast territory. The empire expanded far into Central Asia, securing control of critical Silk Road trade routes.',
        territory_stats_title: 'Territorial Statistics',
        territory_stats_1a: 'Total Area', territory_stats_1b: 'â‰ˆ5.4 million kmÂ²',
        territory_stats_2a: 'Peak Population', territory_stats_2b: 'â‰ˆ80 million (9th c.)',
        territory_stats_3a: 'Primary Capital', territory_stats_3b: 'Chang\'an (Xi\'an)',
        territory_stats_4a: 'Secondary Capital', territory_stats_4b: 'Luoyang',
        map_changan_title: 'Capital Chang\'an', map_changan_desc: 'The Tang capital and the largest city in the world at the time, with a population over a million. It was the political, economic, and cultural heart of the empire and the eastern terminus of the Silk Road.',
        map_luoyang_title: 'Eastern Capital Luoyang', map_luoyang_desc: 'The secondary capital, a vital economic center and transportation hub. Wu Zetian briefly made it her "divine capital."',
        map_silkroad_title: 'The Silk Road', map_silkroad_desc: 'Tang control of the eastern sections of the Silk Road facilitated unprecedented cultural and commercial exchange with Central Asia, Persia, Arabia, and even the Byzantine Empire.',
        emperors_title: 'Major Emperors',
        emperor_1_name: 'Emperor Gaozu (Li Yuan)', emperor_1_reign: 'Reign: 618-626', emperor_1_feat1: 'Established Tang institutions', emperor_1_feat2: 'Created coinage system', emperor_1_feat3: 'Adopted Sui land-distribution system',
        emperor_2_name: 'Emperor Taizong (Li Shimin)', emperor_2_reign: 'Reign: 626-649', emperor_2_feat1: 'Began the "Zhenguan" era of prosperity', emperor_2_feat2: 'Expanded the examination system', emperor_2_feat3: 'Defeated eastern Turks, hailed as "Heavenly Qaghan"',
        emperor_3_name: 'Empress Wu Zetian', emperor_3_reign: 'Power/Reign: 690-705', emperor_3_feat1: 'Only female emperor in Chinese history', emperor_3_feat2: 'Promoted officials based on merit', emperor_3_feat3: 'Supported Buddhism and scholarship',
        emperor_4_name: 'Emperor Xuanzong', emperor_4_reign: 'Reign: 712-756', emperor_4_feat1: 'Ruled during peak of Tang power', emperor_4_feat2: 'Oversaw cultural and artistic flowering', emperor_4_feat3: 'Reign ended with An Lushan Rebellion',
        gov_title: 'Government & Administration',
        gov_box1_title: 'Examination System', gov_box1_desc: 'The Tang expanded the civil service examination system, recruiting officials through competitive tests. This broke the aristocratic monopoly on power and promoted a merit-based bureaucracy.',
        gov_box2_title: 'Three Departments & Six Ministries', gov_box2_desc: 'The central government was structured into three departments (drafting, reviewing, and executing policy), creating a system of checks and balances that improved administrative efficiency.',
        gov_box3_title: 'Tax & Land Systems', gov_box3_desc: 'The early Tang used the "Equal-field" system to distribute land and the "Zuyongdiao" system for taxation. This ensured state revenue but collapsed later due to land accumulation.',
        gov_chart_caption: 'The chart shows the growth and shift in the Tang bureaucracy. The late Tang saw a surge in provincial officials, reflecting the weakening of central control.',
        culture_title: 'Cultural Golden Age',
        culture_intro: 'The Tang Dynasty is regarded as a golden age for Chinese arts and culture. Unprecedented achievements in poetry, painting, sculpture, and crafts would influence East Asian aesthetics for centuries.',
        culture_card1_title: 'Poetry & Literature', culture_card1_desc: 'Poetry reached its zenith with masters like Li Bai, Du Fu, and Wang Wei. Regulated verse (lÃ¼shi) and truncated verse (jueju) forms were perfected.',
        culture_card1_quote: '"The birds have vanished into the sky,<br>and now the last cloud drains away.<br>We sit together, the mountain and me,<br>until only the mountain remains." <br>â€” Li Bai',
        culture_card2_title: 'Sculpture & Sancai', culture_card2_desc: 'Tang sculpture is famed for Buddhist statues and tomb figurines. The colorful sancai (three-color) glazed pottery vividly depicts court ladies, officials, foreign merchants, and animals, reflecting a cosmopolitan society.',
        exchange_title: 'International Exchange',
        exchange_intro: 'The Tang was remarkably open to foreign influences, creating a cosmopolitan society. The capital, Chang\'an, hosted merchants, diplomats, and clerics from across Asia and beyond.',
        exchange_box1_title: 'Silk Road Trade', exchange_box1_desc: 'Control of the Silk Road fueled unprecedented exchange. Chinese silk and porcelain went west, while foreign goods, technologies, and ideas flowed into China.',
        exchange_box2_title: 'Religious Diversity', exchange_box2_desc: 'While Buddhism flourished, the Tang was tolerant of diverse faiths. Nestorian Christianity, Zoroastrianism, Manichaeism, and Islam all established communities in China.',
        exchange_img_caption: 'A sancai-glazed figurine of a camel carrying musicians, a vivid testament to cultural fusion along the Silk Road.',
        scholars_title: 'Scholars & Technological Innovation',
        scholars_intro: 'The Tang Dynasty was not only a golden age for poetry and art, but also a period of significant technological innovation. The talents of scholars and the wisdom of craftsmen jointly propelled social progress.',
        scholar_1_name: 'Li Bai', scholar_1_desc: 'The greatest romantic poet of the Tang Dynasty, known as the "Poet Immortal". His poetry is bold and unrestrained, full of imagination, with masterpieces such as "Bringing in the Wine" and "The Hard Road to Shu".',
        scholar_2_name: 'Du Fu', scholar_2_desc: 'Revered as the "Poet Sage", his works profoundly reflect social realities, filled with humanistic concern. His masterpieces "Three Officers" and "Three Partings" vividly depict the suffering of people during wartime.',
        scholar_3_name: 'Monk Yi Xing', scholar_3_desc: 'A renowned Tang Dynasty astronomer who compiled the "Dayan Calendar" and first measured the length of the meridian, a significant achievement in the history of world astronomy.',
        scholar_4_name: 'Woodblock Printing', scholar_4_desc: 'The Tang Dynasty saw the maturation and popularization of woodblock printing technology. The earliest extant printed work, the "Diamond Sutra", dates from the Tang, revolutionizing cultural dissemination.',
        tech_title_1: 'Invention of Gunpowder', tech_desc_1: 'Tang alchemists accidentally discovered the formula for gunpowder, initially used for fireworks and signal flares, later developed for military purposes, transforming warfare.',
        tech_title_2: 'Application of Compass', tech_desc_2: 'The Tang began applying the compass to navigation, known as the "south-pointing chariot", greatly enhancing the safety and accuracy of ocean voyages.',
        decline_title: 'Decline and Fall',
        decline_intro: 'Despite its brilliance, the Tang faced mounting challenges. The pivotal turning point was the An Lushan Rebellion (755-763), which devastated the empire and initiated a long period of decline.',
        decline_chart_caption: 'This chart illustrates the power shift after the An Lushan Rebellion. Central government power (red) declined while regional governors\' power (gold) rose, ultimately hollowing out the empire.',
        decline_box1_title: 'Rise of Warlords (Jiedushi)', decline_box1_desc: 'After the rebellion, regional military governors became powerful warlords, controlling their own armies and taxes, which destroyed central authority.',
        decline_box2_title: 'Economic Deterioration', decline_box2_desc: 'The land system collapsed, and tax revenues plummeted. Constant warfare disrupted trade and destroyed the economic foundation of the empire.',
        legacy_title: 'Legacy & Historical Significance',
        legacy_intro: 'The Tang\'s influence extends far beyond its temporal boundaries, shaping Chinese and East Asian culture. Its achievements in governance and arts continue to resonate today.',
        legacy_box1_title: 'Political & Administrative Legacy', legacy_box1_desc: 'The Tang civil service examination system and legal codes became models for later dynasties and neighboring states like Japan and Korea.',
        legacy_box2_title: 'Cultural & Artistic Heritage', legacy_box2_desc: 'Tang poetry is considered the pinnacle of Chinese literature. Its aesthetic principles and spirit of cultural openness continue to inspire and influence East Asian art.',
        legacy_quote: '"The Tang Dynasty represents the golden age of Chinese civilization, when China was the most powerful, prosperous, and cosmopolitan nation on earth."',
        legacy_quote_author: 'â€” Edward H. Schafer, Historian',
        tang_video_title: 'AI Simulated Video of Prosperous Tang',
        tang_video_desc: '<strong>Daily Life in the Prosperous Tang Dynasty</strong><br><br>The life of the people during the prosperous Tang Dynasty was rich and colorful. In the early morning, the city of Chang\'an awoke to the sound of the \'Qixia Gate\' drum, the residential gates opened, and people began their day. The East and West Markets were the commercial centers, filled with a dazzling array of goods and merchants from all over the world. Citizens would listen to stories in teahouses, feast in restaurants, and the nightlife became lively with the relaxation of the curfew. Women enjoyed a relatively high status, participating in social activities like horse riding and polo, with an open and confident fashion style. It was a vibrant, open, and inclusive era where people lived and worked in peace and contentment, enjoying a rich spiritual and cultural life.',
        video_tip: 'If video fails to play, <a href="https://drive.google.com/file/d/1pHxQavi46MXoSxTsxMbx-oiZzvkltItl/view" target="_blank">click here to open directly</a>',
        chart_timeline_labels: ['Gaozu', 'Taizong', 'Gaozong/Wu', 'Wu Zetian', 'Zhongzong', 'Xuanzong', 'Late Tang'],
        chart_gov_title: 'Growth of Tang Dynasty Bureaucracy',
        chart_gov_label_central: 'Central Officials', chart_gov_label_provincial: 'Provincial Officials', chart_gov_yaxis: 'Number of Officials',
        chart_rel_title: 'Tang Foreign Relations Network',
        chart_rel_label: 'Cultural Exchange Intensity', chart_rel_cats: ['Japan', 'Silla(Korea)', 'Tibet', 'C. Asia', 'Persia', 'Arabia', 'India'],
        chart_dec_title: 'Tang Dynasty Power Shift (Relative Scale)',
        chart_dec_label_central: 'Central Gov. Power', chart_dec_label_regional: 'Regional Governor Power', chart_dec_yaxis: 'Relative Power Index',
      }
    };

    // --- æ ¸å¿ƒè…³æœ¬ ---
    document.addEventListener('DOMContentLoaded', function() {
        
        const AUTOPLAY_INTERVAL = 8000; // 8ç§’

        let currentLang = 'zh-TW';
        let isAutoplaying = false;
        let autoplayTimeoutId;
        let currentSectionIndex = 0;
        let currentlySpeakingSection = null;
        let isManuallyStopped = false; 
        
        let activeLockSection = null;
        
        const sections = Array.from(document.querySelectorAll('main > section'));
        const langToggleBtn = document.getElementById('lang-toggle');
        const autoplayToggleBtn = document.getElementById('autoplay-toggle');
        const fullscreenToggleBtn = document.getElementById('fullscreen-toggle');
        const musicToggleBtn = document.getElementById('music-toggle');
        const toTopBtn = document.getElementById('to-top-btn');
        const bgMusic = document.getElementById('bg-music');
        const navbar = document.querySelector('.navbar');
        
        // --- æ»¾å‹•é–å®šè™•ç† ---
        const wheelLockHandler = (event) => {
            if (!activeLockSection) return;
            const rect = activeLockSection.getBoundingClientRect();
            const isAtTop = rect.top >= 0;
            const isAtBottom = rect.bottom <= window.innerHeight;

            if (event.deltaY < 0 && isAtTop) { event.preventDefault(); }
            if (event.deltaY > 0 && isAtBottom) { event.preventDefault(); }
        };
        const touchLockHandler = (event) => {
             if (activeLockSection) { event.preventDefault(); }
        };
        function lockScreenToSection(section) {
            document.body.classList.add('tts-active');
            activeLockSection = section;
            window.addEventListener('wheel', wheelLockHandler, { passive: false });
            window.addEventListener('touchmove', touchLockHandler, { passive: false });
        }
        function unlockScreen() {
            document.body.classList.remove('tts-active');
            activeLockSection = null;
            window.removeEventListener('wheel', wheelLockHandler);
            window.removeEventListener('touchmove', touchLockHandler);
        }

        function setTtsButtonState(button, isPlaying) {
            const playKey = 'tts_play_btn';
            const stopKey = 'tts_stop_btn';
            if (isPlaying) {
                button.innerHTML = translations[currentLang][stopKey] || 'â¹ï¸ Stop Reading';
                button.classList.add('is-playing');
            } else {
                button.innerHTML = translations[currentLang][playKey] || 'ğŸ”Š Read Aloud';
                button.classList.remove('is-playing');
            }
        }

        function resetAllTtsButtons() {
            document.querySelectorAll('.tts-btn').forEach(btn => {
                setTtsButtonState(btn, false);
            });
        }
        
        function updateLanguage() {
            document.documentElement.lang = currentLang;
            document.querySelectorAll('[data-lang-key]').forEach(el => {
                const key = el.dataset.langKey;
                if (translations[currentLang][key]) {
                    if (el.classList.contains('tts-btn') && el.classList.contains('is-playing')) {
                         el.innerHTML = translations[currentLang]['tts_stop_btn'];
                    } else {
                         el.innerHTML = translations[currentLang][key];
                    }
                }
            });
            initializeAllCharts(currentLang);
        }
        
        langToggleBtn.addEventListener('click', () => {
            currentLang = currentLang === 'zh-TW' ? 'en' : 'zh-TW';
            updateLanguage();
        });
        
        function getCleanTextForTTS(section) {
            const contentContainer = section.querySelector('.content-container');
            if (!contentContainer) return "";
            const clone = contentContainer.cloneNode(true);
            // ç§»é™¤ä¸éœ€æœ—è®€çš„å…ƒç´ 
            clone.querySelectorAll('.tts-btn, .section-title, iframe').forEach(el => el.remove());
            const title = section.querySelector('.section-title')?.innerText || '';
            const body = clone.innerText.trim();
            return `${title}. ${body}`;
        }
        
        function stopAutoscroll() {
            isAutoplaying = false;
            document.body.classList.remove('autoplay-active'); 
            autoplayToggleBtn.innerHTML = '<i class="fas fa-play"></i>';
            clearTimeout(autoplayTimeoutId);
        }

        function stopSpeech() {
            if (!speechSynthesis.speaking) return;
            isManuallyStopped = true; 
            speechSynthesis.cancel(); 
        }
        
        function speakSection(section, onEndCallback) {
            const textToSpeak = getCleanTextForTTS(section);
            if (!textToSpeak) {
                if (onEndCallback) onEndCallback();
                return;
            }
            
            const utterance = new SpeechSynthesisUtterance(textToSpeak);
            utterance.lang = currentLang === 'en' ? 'en-US' : 'zh-TW';
            
            const ttsBtn = section.querySelector('.tts-btn');

            utterance.onstart = () => {
                currentlySpeakingSection = section;
                if (ttsBtn) setTtsButtonState(ttsBtn, true);
                lockScreenToSection(section);
            };
            
            utterance.onend = () => {
                const wasManuallyStopped = isManuallyStopped;
                if (currentlySpeakingSection === section) {
                    if (ttsBtn) setTtsButtonState(ttsBtn, false);
                    currentlySpeakingSection = null;
                }
                unlockScreen(); // è§£é–è¢å¹•
                if (onEndCallback && !wasManuallyStopped) {
                    onEndCallback();
                }
            };

            utterance.onerror = (e) => {
                console.error("Speech synthesis error:", e);
                if (currentlySpeakingSection === section) {
                    if (ttsBtn) setTtsButtonState(ttsBtn, false);
                    currentlySpeakingSection = null;
                }
                unlockScreen(); // ç™¼ç”ŸéŒ¯èª¤ä¹Ÿè¦è§£é–
                if (onEndCallback) onEndCallback();
            };
            
            isManuallyStopped = false; 
            speechSynthesis.speak(utterance);
        }
        
        // æ›´æ–°è‡ªå‹•æ’­æ”¾é‚è¼¯
        function playAndAdvance() {
            if (!isAutoplaying) return;
            
            clearTimeout(autoplayTimeoutId);

            // å¦‚æœç•¶å‰æ˜¯å½±ç‰‡å€å¡Šï¼Œå‰‡è·³åˆ°ä¸‹ä¸€å€‹
            if (sections[currentSectionIndex] && sections[currentSectionIndex].id === 'tang-video') {
                currentSectionIndex = (currentSectionIndex + 1) % sections.length;
            }

            const section = sections[currentSectionIndex];
            if (!section) {
                stopAutoscroll();
                return;
            }

            section.scrollIntoView({ behavior: 'smooth', block: 'start' });

            // ç‚ºä¸‹ä¸€å€‹å€å¡Šè¨­å®šè¨ˆæ™‚å™¨
            const advanceNext = () => {
                if (isAutoplaying) {
                    currentSectionIndex = (currentSectionIndex + 1) % sections.length;
                    playAndAdvance();
                }
            };
            autoplayTimeoutId = setTimeout(advanceNext, AUTOPLAY_INTERVAL);
        }
        
        function startAutoscroll() {
            if (isAutoplaying) return;
            
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }

            isAutoplaying = true;
            document.body.classList.add('autoplay-active'); 
            autoplayToggleBtn.innerHTML = '<i class="fas fa-pause"></i>';
            
            let mostVisibleSectionIndex = 0;
            let maxVisibility = 0;
            sections.forEach((section, index) => {
                const rect = section.getBoundingClientRect();
                const vh = window.innerHeight || document.documentElement.clientHeight;
                const visibleHeight = Math.max(0, Math.min(rect.bottom, vh) - Math.max(rect.top, 0));
                if (visibleHeight > maxVisibility) {
                    maxVisibility = visibleHeight;
                    mostVisibleSectionIndex = index;
                }
            });
            currentSectionIndex = mostVisibleSectionIndex;
            
            playAndAdvance();
        }

        autoplayToggleBtn.addEventListener('click', () => {
            if (isAutoplaying) {
                stopAutoscroll();
            } else {
                startAutoscroll();
            }
        });
        
        function updateFullscreenIcon() {
            if (!document.fullscreenElement) {
                fullscreenToggleBtn.innerHTML = '<i class="fas fa-expand"></i>';
            } else {
                fullscreenToggleBtn.innerHTML = '<i class="fas fa-compress"></i>';
            }
        }
        fullscreenToggleBtn.addEventListener('click', () => {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    alert(`ç„¡æ³•é€²å…¥å…¨è¢å¹•æ¨¡å¼: ${err.message} (${err.name})`);
                });
            } else {
                if (document.exitFullscreen) document.exitFullscreen();
            }
        });
        document.addEventListener('fullscreenchange', updateFullscreenIcon);
        
        musicToggleBtn.addEventListener('click', () => {
            if (bgMusic.paused) {
                bgMusic.play().catch(e => console.log("éŸ³æ¨‚è‡ªå‹•æ’­æ”¾è¢«ç€è¦½å™¨é˜»æ­¢ã€‚"));
                musicToggleBtn.innerHTML = '<i class="fas fa-music"></i>';
            } else {
                bgMusic.pause();
                musicToggleBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
            }
        });
        
        const animationObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
          });
        }, { threshold: 0.15 });
        document.querySelectorAll('.scroll-reveal').forEach(el => animationObserver.observe(el));
        
        function getCurrentSectionId() {
            let current = '';
            for (const section of sections) {
                const sectionTop = section.offsetTop;
                if (window.scrollY >= sectionTop - 200) current = section.getAttribute('id');
            }
            return current;
        }

        window.addEventListener('scroll', () => {
            if(document.body.classList.contains('tts-active')) return;

            if (window.pageYOffset > 300) { toTopBtn.style.display = 'flex'; } 
            else { toTopBtn.style.display = 'none'; }
            if (window.scrollY > 50) { navbar.classList.add('scrolled'); } 
            else { navbar.classList.remove('scrolled'); }
            
            const current = getCurrentSectionId();
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').includes(current)) link.classList.add('active');
            });
        });
        
        toTopBtn.addEventListener('click', () => {
            stopAutoscroll();
            stopSpeech();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                stopAutoscroll();
                stopSpeech();
            });
        });

        document.querySelectorAll('.hotspot').forEach(hotspot => {
          hotspot.addEventListener('click', (e) => {
            e.stopPropagation();
            const targetId = hotspot.dataset.target;
            const infoBox = document.getElementById(targetId);
            const isVisible = infoBox.style.display === 'block';
            document.querySelectorAll('.info-box').forEach(box => box.style.display = 'none');
            if (infoBox && !isVisible) infoBox.style.display = 'block';
          });
        });
        document.addEventListener('click', () => {
             document.querySelectorAll('.info-box').forEach(box => box.style.display = 'none');
        });
        
        document.querySelectorAll('.tts-btn').forEach(button => {
            button.addEventListener('click', () => {
                if (isAutoplaying) return;

                const section = button.closest('.slide-section');
                if (!section) return;

                const wasSpeakingThisSection = (currentlySpeakingSection === section && speechSynthesis.speaking);

                stopSpeech();

                if (!wasSpeakingThisSection) {
                    speakSection(section, null); 
                }
            });
        });


        let charts = {};
        function initializeAllCharts(lang) {
            const langData = translations[lang];
            const titleFont = { family: "'Noto Serif TC', serif", size: 20, weight: 'bold' };
            const bodyFont = { family: "'Noto Serif TC', serif", size: 16 };
            const darkRed = '#8C1B17';
            const darkText = '#3D3D3D';

            Object.keys(charts).forEach(id => {
                if(charts[id]) charts[id].destroy();
            });

            Chart.defaults.color = darkText; 
            Chart.defaults.font.family = "'Noto Serif TC', serif";

            if (document.getElementById('timelineChart')) {
              const ctx = document.getElementById('timelineChart').getContext('2d');
              charts.timeline = new Chart(ctx, {
                type: 'bar',
                data: {
                  labels: langData.chart_timeline_labels,
                  datasets: [{
                    data: [8, 23, 41, 15, 7, 44, 151],
                    backgroundColor: ['#8C1B17', '#A23B3F', '#B95A64', '#D4AF37', '#B95A64', '#8C1B17', '#6E1411'],
                    borderColor: '#D4AF37', borderWidth: 1,
                    barPercentage: 1, categoryPercentage: 1
                  }]
                },
                options: { 
                  indexAxis: 'y', 
                  responsive: true, 
                  maintainAspectRatio: false, 
                  plugins: { 
                    legend: { display: false } 
                  }, 
                  scales: { 
                    x: { 
                      ticks: { display: false },
                      grid: { display: false }
                    }, 
                    y: { 
                      ticks: { 
                        font: bodyFont, 
                        color: darkText 
                      },
                      grid: { display: false }
                    } 
                  } 
                }
              });
            }

            if (document.getElementById('governmentChart')) {
              const ctx = document.getElementById('governmentChart').getContext('2d');
              charts.government = new Chart(ctx, {
                type: 'bar',
                data: {
                  labels: lang === 'zh-TW' ? ['å”åˆ', 'ç››å”', 'æ™šå”'] : ['Early', 'Peak', 'Late'],
                  datasets: [
                    { 
                      label: langData.chart_gov_label_central, 
                      data: [17000, 30000, 24000], 
                      backgroundColor: 'rgba(140, 27, 23, 0.7)', 
                      borderColor: '#8C1B17', 
                      borderWidth: 2
                    }, 
                    { 
                      label: langData.chart_gov_label_provincial, 
                      data: [13000, 20000, 45000], 
                      backgroundColor: 'rgba(212, 175, 55, 0.7)', 
                      borderColor: '#D4AF37', 
                      borderWidth: 2
                    }
                  ]
                },
                options: { 
                  responsive: true, 
                  maintainAspectRatio: false, 
                  plugins: { 
                    title: { 
                      display: true, 
                      text: langData.chart_gov_title, 
                      font: titleFont, 
                      color: darkRed
                    }, 
                    legend: { 
                      position: 'bottom', 
                      labels: { font: bodyFont } 
                    } 
                  }, 
                  scales: { 
                    y: { 
                      beginAtZero: true, 
                      title: { 
                        display: true, 
                        text: langData.chart_gov_yaxis, 
                        font: bodyFont 
                      } 
                    } 
                  } 
                }
              });
            }
            
            if (document.getElementById('relationChart')) {
              const ctx = document.getElementById('relationChart').getContext('2d');
              charts.relation = new Chart(ctx, {
                type: 'radar',
                data: {
                  labels: langData.chart_rel_cats,
                  datasets: [{
                    label: langData.chart_rel_label, 
                    data: [95, 90, 75, 85, 70, 60, 80], 
                    backgroundColor: 'rgba(140, 27, 23, 0.3)', 
                    borderColor: darkRed, 
                    borderWidth: 2, 
                    pointBackgroundColor: '#D4AF37', 
                    pointBorderColor: '#fff', 
                    pointHoverBackgroundColor: '#fff', 
                    pointHoverBorderColor: darkRed
                  }]
                },
                options: { 
                  responsive: true, 
                  maintainAspectRatio: false, 
                  plugins: { 
                    title: { 
                      display: true, 
                      text: langData.chart_rel_title, 
                      font: titleFont, 
                      color: darkRed
                    }, 
                    legend: { display: false } 
                  }, 
                  scales: {
                    r: { 
                      pointLabels: { 
                        font: { ...bodyFont, weight: 'bold' }, 
                        color: darkText 
                      }, 
                      grid: { color: 'rgba(0,0,0,0.1)' }, 
                      angleLines: { color: 'rgba(0,0,0,0.1)' } 
                    } 
                  } 
                }
              });
            }

            if (document.getElementById('declineChart')) {
              const ctx = document.getElementById('declineChart').getContext('2d');
              charts.decline = new Chart(ctx, {
                type: 'line',
                data: {
                  labels: lang === 'zh-TW' ? ['750å¹´', '800å¹´', '850å¹´', '900å¹´'] : ['750 CE', '800 CE', '850 CE', '900 CE'],
                  datasets: [
                    { 
                      label: langData.chart_dec_label_central, 
                      data: [90, 40, 30, 15], 
                      borderColor: darkRed, 
                      backgroundColor: 'rgba(140, 27, 23, 0.2)', 
                      tension: 0.4, 
                      fill: true 
                    },
                    { 
                      label: langData.chart_dec_label_regional, 
                      data: [30, 75, 85, 95], 
                      borderColor: '#D4AF37', 
                      backgroundColor: 'rgba(212, 175, 55, 0.2)', 
                      tension: 0.4, 
                      fill: true 
                    }
                  ]
                },
                options: { 
                  responsive: true, 
                  maintainAspectRatio: false, 
                  plugins: { 
                    title: { 
                      display: true, 
                      text: langData.chart_dec_title, 
                      font: titleFont, 
                      color: darkRed
                    }, 
                    legend: { 
                      position: 'bottom', 
                      labels: { font: bodyFont } 
                    } 
                  }, 
                  scales: { 
                    y: { 
                      beginAtZero: true, 
                      max: 100, 
                      title: { 
                        display: true, 
                        text: langData.chart_dec_yaxis, 
                        font: bodyFont 
                      } 
                    } 
                  } 
                }
              });
            }
        }

        updateLanguage();
        
        document.addEventListener('click', function initMusic() {
          if(bgMusic.paused){
            bgMusic.play().catch(e => console.log("éŸ³æ¨‚è‡ªå‹•æ’­æ”¾è¢«ç€è¦½å™¨é˜»æ­¢ã€‚"));
            musicToggleBtn.innerHTML = '<i class="fas fa-music"></i>';
          }
          document.removeEventListener('click', initMusic);
        });
    });
    </script>
</body>
</html>